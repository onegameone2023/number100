System.register("chunks:///_virtual/BlackJack",["./BlackJack.OpacityTween.ts","./BlackJack.Play.ts","./BlackJack.Player.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/BlackJack.OpacityTween.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,c,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,c=t.UIOpacity,a=t.tween,r=t.Component}],execute:function(){var i;n._RF.push({},"9d640tkuFFD+LA07eM4yRza","BlackJack.OpacityTween",void 0);var p=o.ccclass,s=o.menu;t("default",p(i=s("BlackJack/OpacityTween")(i=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.start=function(){var t=this.node.getComponent(c)||this.node.addComponent(c);t.opacity=255,a(t).repeatForever(a().to(.3,{opacity:255}).to(.3,{opacity:120})).start()},n}(r))||i)||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/BlackJack.Play.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlackJack.Player.ts","./App.ts","./BlackjackSignalRClient.ts","./Casino.Lobby.ts","./Config.ts","./Utils.ts","./BundleControl.ts","./Casino.PopupRank.ts"],(function(e){var t,n,i,a,r,o,l,s,c,u,d,h,g,p,f,m,b,y,v,B,C,P,w,T,S,I,D,A,N,L,R,E,k,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Node,u=e.SpriteFrame,d=e.Sprite,h=e.Label,g=e.Prefab,p=e.EditBox,f=e.sys,m=e.Tween,b=e.Color,y=e.tween,v=e.Animation,B=e.UIOpacity,C=e.v3,P=e.instantiate,w=e.Vec3,T=e.UITransform,S=e.Layout,I=e.Component},function(e){D=e.default},function(e){A=e.default},function(e){N=e.default},function(e){L=e.default},function(e){R=e.default},function(e){E=e.Utils},function(e){k=e.default},function(e){x=e.default}],execute:function(){var z,F,M,H,G,_,O,U,j,V,W,J,Q,X,q,Y,K,Z,$,ee,te,ne,ie,ae,re,oe,le,se,ce,ue,de,he,ge,pe,fe,me,be,ye,ve,Be,Ce,Pe,we,Te,Se,Ie,De,Ae,Ne,Le,Re,Ee,ke,xe,ze,Fe,Me,He,Ge,_e,Oe,Ue,je,Ve,We,Je,Qe,Xe,qe,Ye,Ke,Ze,$e,et,tt,nt,it,at,rt,ot,lt,st,ct,ut,dt,ht,gt,pt,ft,mt,bt,yt,vt,Bt,Ct,Pt;l._RF.push({},"9e9ecMCGGdHzZ6AS1LDbvZd","BlackJack.Play",void 0);var wt=s.ccclass,Tt=s.property,St=s.menu,It=function(e){return e[e.None=0]="None",e[e.Betting=1]="Betting",e[e.Dealing=2]="Dealing",e[e.InsurancePhrase=3]="InsurancePhrase",e[e.PlayerActions=4]="PlayerActions",e[e.DealerActions=5]="DealerActions",e[e.Result=6]="Result",e}(It||{}),Dt=function(e){return e[e.None=0]="None",e[e.Bet=1]="Bet",e[e.Stand=2]="Stand",e[e.Hit=3]="Hit",e[e.DoubleDown=4]="DoubleDown",e[e.Split=5]="Split",e[e.Surrender=6]="Surrender",e[e.Insurance=7]="Insurance",e[e.EvenMoney=8]="EvenMoney",e[e.Clear=9]="Clear",e}(Dt||{});e("default",(z=St("BlackJack/Play"),F=Tt(c),M=Tt([u]),H=Tt(d),G=Tt(c),_=Tt(c),O=Tt(h),U=Tt([D]),j=Tt(D),V=Tt(h),W=Tt(c),J=Tt(u),Q=Tt([u]),X=Tt(c),q=Tt(h),Y=Tt(d),K=Tt(u),Z=Tt(u),$=Tt(u),ee=Tt(c),te=Tt(g),ne=Tt(c),ie=Tt(p),ae=Tt(c),re=Tt(c),oe=Tt(c),le=Tt(c),se=Tt(h),ce=Tt(c),ue=Tt(h),de=Tt([c]),he=Tt(c),ge=Tt(c),pe=Tt(c),fe=Tt(c),me=Tt(c),be=Tt(c),ye=Tt(c),ve=Tt(c),Be=Tt(c),Ce=Tt(u),Pe=Tt(u),we=Tt(u),Te=Tt(u),Se=Tt([c]),Ie=Tt(c),De=Tt(c),wt(Ae=z(((Pt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"roomDetail",Le,a(t)),i(t,"listTableSpr",Re,a(t)),i(t,"tableSpr",Ee,a(t)),i(t,"chipNodes",ke,a(t)),i(t,"boxSettingContainer",xe,a(t)),i(t,"lblToast",ze,a(t)),i(t,"players",Fe,a(t)),i(t,"mePlayer",Me,a(t)),i(t,"lblDeck",He,a(t)),i(t,"blackjackMachine",Ge,a(t)),i(t,"cardBack",_e,a(t)),i(t,"cardFronts",Oe,a(t)),i(t,"chipContainer",Ue,a(t)),i(t,"countdownSecond",je,a(t)),i(t,"progressSprite",Ve,a(t)),i(t,"progressSpriteGreen",We,a(t)),i(t,"progressSpriteYellow",Je,a(t)),i(t,"progressSpriteRed",Qe,a(t)),t.amounts=[],t.amounts_1=[1,5,10,50,100],t.amounts_2=[1,2,10,20,100],t.minBet=0,t.amountSelected=0,t.betLogs=[],t.flagLog=-1,t.flagIsPhaseBetting=!1,t.meBetPosition=0,t.sessionId=0,t.roomId=void 0,t.roomValue=void 0,t.currency=void 0,i(t,"boxChat",Xe,a(t)),i(t,"popupRank",qe,a(t)),i(t,"popupContainer",Ye,a(t)),i(t,"editBoxChat",Ke,a(t)),i(t,"dealerNode",Ze,a(t)),i(t,"dealerCardContainer",$e,a(t)),i(t,"dealerCards",et,a(t)),i(t,"dealerCard",tt,a(t)),i(t,"lblDealerSum",nt,a(t)),i(t,"dealerCardBlackjack",it,a(t)),t.lastCardIdx=0,i(t,"labelDealerNotify",at,a(t)),i(t,"inGameButtons",rt,a(t)),i(t,"bottomBarBet",ot,a(t)),i(t,"nodeDisableRebet",lt,a(t)),i(t,"nodeDisableBetX2",st,a(t)),i(t,"nodeDisableClearBet",ct,a(t)),i(t,"nodeDisableFinishBet",ut,a(t)),i(t,"bottomBarDeal",dt,a(t)),i(t,"nodeInsurance",ht,a(t)),i(t,"nodeEvenMoney",gt,a(t)),i(t,"boxHelp",pt,a(t)),i(t,"spriteFrameBetVip",ft,a(t)),i(t,"spriteFrameBetNormal",mt,a(t)),i(t,"spriteFrameActiveBetVip",bt,a(t)),i(t,"spriteFrameActiveBetNormal",yt,a(t)),i(t,"arrayNodesBet",vt,a(t)),i(t,"guideBG",Bt,a(t)),i(t,"guide",Ct,a(t)),t.chatInGame=null,t.cardActionQueue=Promise.resolve(),t}n(t,e);var l=t.prototype;return l.init=function(e,t){this.roomValue=e,this.currency=t},l.start=function(){var e=this;t.instance=this,A.instance.showLoading(!0),N.getInstance().send("EnterRoom",[this.roomValue,this.currency],(function(t){if(A.instance.showLoading(!1),t.c<0)return A.instance.alertDialog.showMsg(N.getErrMsg(t.c)),void e.node.destroy();e.joinRoom(t.r),null===f.localStorage.getItem("CA_BJ_first_time")&&(f.localStorage.setItem("CA_BJ_first_time","1"),e.showGuide())}));var n=L.instance.isTableVip?[this.spriteFrameBetVip,this.spriteFrameActiveBetVip]:[this.spriteFrameBetNormal,this.spriteFrameActiveBetNormal],i=n[0],a=n[1];this.arrayNodesBet.forEach((function(e){var t=e.getChildByName("Status"),n=t.getChildByName("checkmark");t.getComponent(d).spriteFrame=i,n.getComponent(d).spriteFrame=a})),this.flagLog=-1},l.onLoad=function(){var e=this;this.chipNodes.children.forEach((function(t,n){var i=t.getChildByName("chip"),a=t.getChildByName("text");i.on(c.EventType.TOUCH_END,(function(){if(i._isSelected)return m.stopAllByTarget(i),i.y=0,a.getComponent(h).color=(new b).fromHEX("#FFFFFF"),void(i._isSelected=!1);e.chipNodes.children.forEach((function(e){var t=e.getChildByName("chip"),n=e.getChildByName("text");m.stopAllByTarget(t),t.y=0,n.getComponent(h).color=(new b).fromHEX("#FFFFFF"),t._isSelected=!1})),a.getComponent(h).color=(new b).fromHEX("#FFF000"),i._isSelected=!0,e.amountSelected=e.amounts[n]*e.minBet,y(i).repeatForever(y().to(.3,{y:15}).to(.3,{y:0})).start()}))})),this.mePlayer.statusNode.on(c.EventType.TOUCH_END,(function(){0!=e.amountSelected&&e.actBet(e.amountSelected)})),this.inGameButtons.forEach((function(t){t.on(c.EventType.TOUCH_END,(function(){t.getChildByName("disable").active||e.sendRequestAction(Dt[t.name])}))})),N.getInstance().receive("roomData",(function(t){t.c<0?e.showToast(N.getErrMsg(t.c)):(e.sessionId=t.r.SessionId,e.roomDetail.getChildByName("RoomSession").getComponent(h).string=A.instance.getTextLang("txt_session")+": #"+e.sessionId,e.lblDeck.string=t.r.Deck,e.handleSession(t.r.Session),t.r.Players.forEach((function(t){var n=e.getAllPlayersById(t.AccountId);n&&n.setCoin(t.Balance)})))})),N.getInstance().receive("joinRoom",(function(t){if(t.c<0)e.showToast(N.getErrMsg(t.c));else if(t.r.AccountId!=R.Login.AccountID+":"+R.Login.PortalID){var n=e.randomFreePlayer();n.set(t.r),e.flagIsPhaseBetting&&(n.statusNode.getChildByName("checkmark").active=!1)}})),N.getInstance().receiveArray("recieveMessage",(function(t,n,i){e.getAllPlayersById(t).showChatMsg(i)})),N.getInstance().receive("leaveRoom",(function(t){if(t.c<0)e.showToast(N.getErrMsg(t.c));else for(var n=0;n<t.r.length;n++){var i=t.r[n];i.id==R.Login.AccountID+":"+R.Login.PortalID?(i.reason<0&&A.instance.alertDialog.showMsg(A.instance.getTextLang("ca"+i.reason)),N.getInstance().dontReceive(),A.instance.gotoLobby()):e.getPlayerById(i.id).leave()}})),N.getInstance().receive("registerLeavingRoom",(function(t){var n=e.getAllPlayersById(t.r.id);t.r.status?n.showRegisterQuit():n.hideRegisterQuit()})),N.getInstance().receive("rejectBetting",(function(t){var n=t.map((function(t){return e.getPlayerById(t).lblNickname.string})).join(", ");e.showToast("Reject betting from "+n)})),N.getInstance().receive("clearBetting",(function(t){var n=t.r.id,i=e.getPlayerById(n);e.chipContainer.children.filter((function(e){return e.name===n})).forEach((function(t){e.moveChipToPlayer(t,e.mePlayer)})),i.setCoin(t.r.balance),i.clearBetAmount()})),N.getInstance().receive("confirmBetting",(function(t){e.getAllPlayersById(t.r.id).showReady()})),N.getInstance().receive("playerOtherDevice",(function(t){e.showToast(N.getErrMsg(t))})),N.getInstance().receive("connectionChanged",(function(t){var n=e.getPlayerById(t.r.id);e.showToast(n.lblNickname.string+" "+(t.status?"connected":"disconnected")),t.status&&n.leave()})),N.getInstance().receive("playerBet",(function(t){if(t.c<0)e.showToast(N.getErrMsg(t.c));else{var n=e.getPlayerById(t.r.id);n.setCoin(t.r.balance),e.placeBet(n,t.r.amount)}})),N.getInstance().receive("playerAction",(function(t){e.handlePlayerAction(t.r)})),N.getInstance().receive("updateHand",(function(t){e.updateHandDealer(t.Cards,t.BestSum)})),N.getInstance().receive("updatePrizes",(function(t){e.handleResultPrizes(t)}))},l.sendRequestAction=function(e,t){var n=this;void 0===t&&(t=!0),N.getInstance().send("Request",[e,t],(function(e){e.c<0?n.showToast(N.getErrMsg(e.c)):n.handlePlayerAction(e.r)}))},l.sendRequestActionInsurance=function(e,t){this.sendRequestAction(Dt.Insurance,"true"==t),this.nodeInsurance.active=!1},l.sendRequestActionEvenMoney=function(e,t){this.sendRequestAction(Dt.EvenMoney,"true"==t),this.nodeEvenMoney.active=!1},l.handlePlayerAction=function(e){var t=this.getAllPlayersById(e.accountId);switch([this.mePlayer].concat(this.players).forEach((function(e){e.meTurn=!1,e.hideTurnSplit(),e.hideTurnMain()})),t.meTurn=!0,e.action){case Dt.Hit:case Dt.Stand:case Dt.DoubleDown:var n=e.hand;0==n.Index?t.handleCardMain(n.Cards,n.Sum,n.BestSum,!0):1==n.Index&&t.handleCardSplit(n.Cards,n.Sum,n.BestSum,!0),e.action==Dt.Hit&&t.updateStatus(D.instance.STATUS.Hit),e.action==Dt.Stand&&t.updateStatus(D.instance.STATUS.Stand),e.action==Dt.DoubleDown&&(t.updateStatus(D.instance.STATUS.DoubleDown),this.placeBet(t,this.betLogs[0].amount));break;case Dt.Insurance:if(e.confirmed&&e.accountId==R.Login.AccountID+":"+R.Login.PortalID){this.showToast(A.instance.getTextLang("me0"));var i=this.mePlayer.totalBetAmount/2,a=this.mePlayer.createCoinNode(E.formatMoney(i,!0));this.moveChipToDealer(a)}break;case Dt.EvenMoney:e.confirmed&&e.accountId==R.Login.AccountID+":"+R.Login.PortalID&&this.showToast(A.instance.getTextLang("me0"));break;case Dt.Split:t.updateStatus(D.instance.STATUS.Split)}},l.joinRoom=function(e){var t=this;this.roomId=e.Id,this.sessionId=e.SessionId,this.minBet=e.Value,this.roomDetail.getChildByName("RoomTable").getComponent(h).string=(0==e.Currency?A.instance.getTextLang("tb113"):A.instance.getTextLang("tb112"))+": "+e.Id,this.roomDetail.getChildByName("RoomValue").getComponent(h).string=A.instance.getTextLang("iap38")+": "+E.formatMoney(e.Value)+" "+(0==e.Currency?A.instance.getTextLang("txt_coin"):"Tipzo"),this.roomDetail.getChildByName("RoomSession").getComponent(h).string=A.instance.getTextLang("txt_session")+": #"+e.SessionId,this.tableSpr.spriteFrame=this.listTableSpr[e.Currency],this.lblDeck.string=e.Deck,[500,5e3,5e4].includes(this.minBet)?this.amounts=this.amounts_2:this.amounts=this.amounts_1,this.chipNodes.children.forEach((function(e,n){e.getChildByName("text").getComponent(h).string=E.formatMoney(t.amounts[n]*t.minBet,!0),0==n&&e.getChildByName("chip").emit(c.EventType.TOUCH_END)}));var n=e.Players;if(n&&n.length>0)for(var i=0;i<n.length;i++)n[i].AccountId!=R.Login.AccountID+":"+R.Login.PortalID?this.randomFreePlayer().set(n[i]):(this.mePlayer.set(n[i]),this.meBetPosition=n[i].Position);e.Session&&this.handleSession(e.Session,!0)},l.handleSession=function(e,t){var n=this;void 0===t&&(t=!1),this.unscheduleAllCallbacks();var i=this.dealerNode.getChildByName("BET"),a=this.dealerNode.getChildByName("NORMAL");if(a.active=!0,i.active=!1,this.labelDealerNotify.string="BLACKJACK",e.Phrase!=It.None){if([this.mePlayer].concat(this.players).forEach((function(e){e.resetTimeout()})),this.inGameButtons.forEach((function(e){e.getChildByName("disable").active=!0})),this.countdownSecond.node.parent.active=e.Phrase==It.Betting,e.Phrase==It.Betting)this.updateTimeout(e.Timeout);else if(e.Phrase==It.PlayerActions){var r;null==(r=e.Roles)||r.forEach((function(t){n.getAllPlayersById(t.AccountId).updateTimeout(e.Timeout)}))}if(e.Timeout&&this.updateTimeout(e.Timeout),[this.mePlayer].concat(this.players).forEach((function(e){e.statusNode.getChildByName("checkmark").active=!1})),this.flagIsPhaseBetting=!1,e.Phrase==It.Betting){this.flagIsPhaseBetting=!0,this.flagLog++,this.betLogs=this.betLogs.filter((function(e){return e.flag==n.flagLog-1})),this.nodeInsurance.active=!1,this.nodeEvenMoney.active=!1,[this.mePlayer].concat(this.players).forEach((function(e){e.resetTable()})),this.dealerCardContainer.active=!1,this.chipContainer.removeAllChildren(),this.bottomBarDeal.active=!1,this.bottomBarBet.active=!0,this.nodeDisableRebet.active=0==this.betLogs.length,this.nodeDisableBetX2.active=0==this.betLogs.length,this.nodeDisableClearBet.active=!0,this.nodeDisableFinishBet.active=!0,[this.mePlayer].concat(this.players).forEach((function(e){e.statusNode.getChildByName("checkmark").active=e.id==n.mePlayer.id})),a.active=!1,i.active=!0,i.getComponent(v).play();var o=0==this.currency?A.instance.getTextLang("txt_coin"):"Tipzo",l=[A.instance.getTextLang("ca157"),A.instance.getTextLang("ca150")+" "+E.formatNumber(this.minBet)+" "+o],s=0;this.schedule((function(){var e=n.labelDealerNotify.node.parent,t=e.getComponent(B)||e.addComponent(B);y(t).to(.5,{opacity:0}).call((function(){n.labelDealerNotify.string=l[s],++s>=l.length&&(s=0)})).to(.2,{opacity:255}).start()}),2.5)}else this.bottomBarBet.active=!1,this.bottomBarDeal.active=!0;if(e.Phrase==It.Dealing&&([this.mePlayer].concat(this.players).forEach((function(e){e.hideReady()})),a.active=!0,this.labelDealerNotify.string=A.instance.getTextLang("ca110"),this.setupHandDealer(e.DealerHand.Cards),this.handlePlayerBoxes(e.Boxes,t),this.inGameButtons.forEach((function(e){e.getChildByName("disable").active=!0}))),e.Phrase==It.InsurancePhrase||e.Phrase==It.PlayerActions){var c,u,d=null==(c=e.Roles)?void 0:c.find((function(e){return e.AccountId==R.Login.AccountID+":"+R.Login.PortalID}));null==(u=e.Roles)||u.forEach((function(e){var t=n.getAllPlayersById(e.AccountId);t.meTurn=!0,t.isShowedTurnMain||t.showTurnMain()}))}e.Phrase==It.InsurancePhrase&&(this.labelDealerNotify.string=A.instance.getTextLang("ca160"),null!=d&&d.Actions.includes(Dt.Insurance)&&(this.nodeInsurance.active=!0),null!=d&&d.Actions.includes(Dt.EvenMoney)&&(this.nodeEvenMoney.active=!0)),e.Phrase==It.PlayerActions&&(this.labelDealerNotify.string=A.instance.getTextLang("ca158"),this.nodeInsurance.active=!1,this.nodeEvenMoney.active=!1,d&&this.inGameButtons.forEach((function(e){e.getChildByName("disable").active=!d.Actions.includes(Dt[e.name])})),t?this.handlePlayerBoxes(e.Boxes,!0,!1):this.handlePlayerBoxes(e.Boxes,!1,!0)),t&&e.Phrase>It.Betting&&(this.inGameButtons.forEach((function(e){e.getChildByName("disable").active=!0})),this.setupHandDealer([e.DealerHand.Cards[0],-1]),e.Phrase>=It.DealerActions&&this.updateHandDealer(e.DealerHand.Cards,e.DealerHand.BestSum)),e.Phrase!=It.DealerActions||t||(this.labelDealerNotify.string=A.instance.getTextLang("ca159"),this.updateHandDealer(e.DealerHand.Cards,e.DealerHand.BestSum)),e.Phrase==It.Result&&(this.labelDealerNotify.string=A.instance.getTextLang("me18"),a.active=!0,e.Prizes&&this.handleResultPrizes(e.Prizes),e.EventPrizes&&e.EventPrizes.forEach((function(e){})),[this.mePlayer].concat(this.players).filter((function(e){return!e.isWin})).forEach((function(e){var t=!1;n.chipContainer.children.filter((function(t){return t.name===e.id})).forEach((function(i){t=!0,n.moveChipToDealer(i,e)})),n.scheduleOnce((function(){t&&e.showResult(D.instance.RESULT_STATUS.LOSE)}),.5)}))),e.Phrase!=It.Dealing&&e.Phrase!=It.PlayerActions&&t&&this.handlePlayerBoxes(e.Boxes,!0)}else a.active=!0},l.handlePlayerBoxes=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=!1),e.forEach((function(e){var a=e.Hands[0],r=e.Hands.length>1?e.Hands[1]:null,o=2==e.Hands.length&&1===(null==a?void 0:a.Cards.length)&&1===(null==r?void 0:r.Cards.length);if(!n||o){var l=i.getAllPlayersById(e.Owner);l&&(a.Cards&&l.handleCardMain(a.Cards,a.Sum),t&&a.BettingLogs&&a.BettingLogs.forEach((function(e){i.placeBet(l,e.Amount)})),r&&r.Cards&&(l.handleCardSplit(r.Cards,r.Sum),t&&r.BettingLogs&&r.BettingLogs.forEach((function(e){i.placeBet(l,e.Amount)}))))}}))},l.handleResultPrizes=function(e){var t=this;e.forEach((function(e){var n,i,a,r,o,l=e.AccountId||e.accountId,s=t.getAllPlayersById(l);if(s){s.isWin=!0,t.chipContainer.children.filter((function(e){return e.name===s.id})).forEach((function(e){return t.moveChipToPlayer(e,s,!0)}));var c=null!=(n=null!=(i=e.TotalPrize)?i:e.totalPrize)?n:0,u=null!=(a=null!=(r=e.TotalBet)?r:e.totalBet)?a:0;switch(null!=(o=e.Type)?o:e.type){case 1:s.showWinAnimation();break;case 0:c>u?(s.showResult(D.instance.RESULT_STATUS.WIN),s.showWinAnimation()):c===u&&s.showResult(D.instance.RESULT_STATUS.DRAW)}}}))},l.updateTimeout=function(e){var t=this,n=e,i=0;this.schedule((function(){i+=.05;var e=Math.min(i/n,1);t.progressSprite.fillRange=e,t.progressSprite.spriteFrame=e<.5?t.progressSpriteGreen:e<.8?t.progressSpriteYellow:t.progressSpriteRed,t.progressSprite.node.setScale(C(-1,1,1))}),.05),this.countdownSecond.string=e<10?"0"+e:e+"",this.schedule((function(){e<0?t.unscheduleAllCallbacks():(t.countdownSecond.string=e<10?"0"+e:e+"",e--)}),1)},l.randomFreePlayer=function(){for(var e=0;e<this.players.length;e++)if(""==this.players[e].id)return this.players[e];return null},l.getPlayerById=function(e){for(var t=0;t<this.players.length;t++)if(this.players[t].id==e)return this.players[t];return null},l.getAllPlayersById=function(e){return[this.mePlayer].concat(this.players).find((function(t){return t.id===e}))},l.getChipByAmount=function(e){var t,n=this;return null==(t=this.chipNodes.children.find((function(t,i){return n.amounts[i]===e/n.minBet})))?void 0:t.getChildByName("chip")},l.toggleMenu=function(){this.boxSettingContainer.active=!this.boxSettingContainer.active},l.clearBetting=function(){var e=this;this.nodeDisableClearBet.active||N.getInstance().send("ClearBetting",[],(function(t){t.c<0?e.showToast(N.getErrMsg(t.c)):(e.chipContainer.children.filter((function(t){return t.name===e.mePlayer.id})).forEach((function(t){e.moveChipToPlayer(t,e.mePlayer)})),e.nodeDisableClearBet.active=!0,e.nodeDisableRebet.active=!0,e.nodeDisableBetX2.active=!0,e.nodeDisableFinishBet.active=!0,e.betLogs=[],e.mePlayer.setCoin(t.r.balance),e.mePlayer.clearBetAmount())}))},l.x2Betting=function(){var e=this;this.nodeDisableBetX2.active||(this.actBetFromBetLogs(),setTimeout((function(){e.actBetFromBetLogs()}),500))},l.reLastBet=function(){this.nodeDisableRebet.active||this.actBetFromBetLogs()},l.actBetFromBetLogs=function(){var e=this;this.betLogs.forEach((function(t){t.flag==e.flagLog-1&&e.actBet(t.amount)}))},l.actBet=function(e){var t=this;N.getInstance().send("Bet",[e,this.meBetPosition],(function(e){if(e.c<0)t.showToast(N.getErrMsg(e.c));else{t.nodeDisableClearBet.active=!1,t.nodeDisableRebet.active=!0,t.nodeDisableBetX2.active=!0,t.nodeDisableFinishBet.active=!1;var n=e.r;t.placeBet(t.mePlayer,n.amount),t.mePlayer.setCoin(n.balance),t.betLogs.push({amount:e.r.amount,gate:e.r.gate,flag:t.flagLog})}}))},l.finishBetting=function(){var e=this;this.nodeDisableFinishBet.active||N.getInstance().send("FinishBetting",[],(function(t){t.c<0?e.showToast(N.getErrMsg(t.c)):e.mePlayer.showReady()}))},l.closePlay=function(){var e=this;N.getInstance().send("ExitRoom",[],(function(t){if(0==t.c)return N.getInstance().dontReceive(),void A.instance.gotoLobby();t.r.status?(e.mePlayer.showRegisterQuit(),e.showToast(A.instance.getTextLang("me8"))):(e.mePlayer.hideRegisterQuit(),e.showToast(A.instance.getTextLang("me9")))}))},l.placeBet=function(e,t){e.updateBetAmount(t);var n=this.getChipByAmount(t)||this.getChipByAmount(this.minBet),i=P(n);i.setScale(new w(.5,.5,.5)),this.chipContainer.addChild(i);var a=e.avatarNode.getComponent(T).convertToWorldSpaceAR(new w(0,0,0)),r=e.statusNode.getComponent(T).convertToWorldSpaceAR(new w(0,0,0)),o=this.node.getComponent(T).convertToNodeSpaceAR(a),l=this.node.getComponent(T).convertToNodeSpaceAR(r),s=this.chipContainer.children.filter((function(e){return w.distance(e.getPosition(),l)<=10}));if(s.length>0){var c=s.length%5*10,u=-10*Math.floor(s.length/5);l.x+=c,l.y+=u}i.setPosition(o),i.name=e.id,y(i).to(.5,{position:l},{easing:"sineOut"}).start()},l.showToast=function(e){var t=this;this.lblToast.string=e,this.lblToast.node.active=!0,setTimeout((function(){t.lblToast.node&&(t.lblToast.node.active=!1)}),2e3)},l.showBoxChat=function(){var e=this;A.instance.inactivityTimer=0,null==this.chatInGame?k.loadPrefabPopup("prefabs/ChatInGame",(function(t){e.chatInGame=P(t).getComponent("ChatInGame"),e.node.addChild(e.chatInGame.node),e.chatInGame.show(R.InGameIds.BlackJack)})):this.chatInGame.show(R.InGameIds.BlackJack)},l.actShowPopupRank=function(){var e=P(this.popupRank);this.popupContainer.addChild(e),e.getComponent(x).showDetail(this.currency,R.InGameIds.BlackJack)},l.moveChipToPlayer=function(e,t,n){var i=this;void 0===n&&(n=!1);var a=t.node.getPosition().clone(),r=e.getPosition().clone();if(n){for(var o=function(){var t=P(e);t.setPosition(i.dealerNode.getPosition()),i.chipContainer.addChild(t),y(t).delay(.05*l).to(.3,{position:r},{easing:"sineOut"}).call((function(){return t.destroy()})).start()},l=0;l<10;l++)o();var s=t.betAmount.children[0],c=P(s),u=s.getComponent(T).convertToWorldSpaceAR(new w(0,0,0)),d=this.chipContainer.getComponent(T).convertToNodeSpaceAR(u);return c.setPosition(d),this.chipContainer.addChild(c),y(c).delay(.5).call((function(){t.betAmount.active=!1})).to(.3,{position:a},{easing:"sineOut"}).call((function(){c.destroy()})).start(),void y(e).delay(.6).to(.4,{position:a},{easing:"sineOut"}).call((function(){return e.destroy()})).start()}y(e).to(.5,{position:a},{easing:"sineOut"}).call((function(){return e.destroy()})).start()},l.moveChipToDealer=function(e,t){void 0===t&&(t=null);var n=this.dealerNode.getPosition();if(t){var i=t.betAmount.children[0],a=P(i),r=i.getComponent(T).convertToWorldSpaceAR(new w(0,0,0)),o=this.chipContainer.getComponent(T).convertToNodeSpaceAR(r);a.setPosition(o),this.chipContainer.addChild(a),y(a).call((function(){t.betAmount.active=!1})).to(.3,{position:n},{easing:"sineOut"}).call((function(){a.destroy()})).start()}y(e).to(.5,{position:n},{easing:"sineOut"}).call((function(){return e.destroy()})).start()},l.showDealerCardsAsync=function(e,t){var n=this;return new Promise((function(i){var a=t.length-e;if(0!==a)for(var r=function(r){var o=P(n.dealerCard);o.name=r.toString(),o.active=!1,o.getChildByName("arrow").active=!1,n.scheduleOnce((function(){n.dealerCards.addChild(o),n.moveCardFromMachine(o,t[r]),0===--a&&i()}),r-e)},o=e;o<t.length;o++)r(o);else i()}))},l.setupHandDealer=function(e){var t=this;this.cardActionQueue=this.cardActionQueue.then(r(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.dealerCardContainer.active=!0,t.dealerCards.removeAllChildren(),t.lblDealerSum.node.parent.active=!1,t.dealerCardBlackjack.active=!1,n.next=6,t.showDealerCardsAsync(0,e);case 6:t.lastCardIdx=e.length-1;case 7:case"end":return n.stop()}}),n)}))))},l.updateHandDealer=function(e,t){var n=this;this.cardActionQueue=this.cardActionQueue.then(r(o().mark((function i(){var a,r;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n.dealerCards.children.length>0&&(n.dealerCards.children[0].getChildByName("arrow").active=!0),1===n.lastCardIdx&&(null==(a=n.dealerCards.getChildByName("1"))||a.destroy()),r=e.length-n.lastCardIdx,i.next=5,n.showDealerCardsAsync(n.lastCardIdx,e);case 5:n.lastCardIdx=e.length,n.scheduleOnce((function(){n.lblDealerSum.node.parent.active=!0,n.lblDealerSum.string=t.toString(),t>21&&(n.dealerCards.children.forEach((function(e){e.getChildByName("mask").active=!0})),n.lblDealerSum.string=A.instance.getTextLang("ca221")),21===t&&2===n.dealerCards.children.length&&(n.dealerCardBlackjack.active=!0)}),r);case 7:case"end":return i.stop()}}),i)}))))},l.moveCardFromMachine=function(e,t,n,i){var a,r,o=this;void 0===t&&(t=-1),void 0===n&&(n=null),void 0===i&&(i=!1);var l=e.parent,s=null==l?void 0:l.getComponent(S);s&&(s.enabled=!1,s.updateLayout()),null==(a=n)||a.hideTurnMain(),null==(r=n)||r.hideTurnSplit();var c=this.blackjackMachine.getComponent(T).convertToWorldSpaceAR(new w(0,0,0)),u=l.getComponent(T).convertToNodeSpaceAR(c),h=e.getPosition().clone(),g=e.getChildByName("sprite");if(g){var p=g.getComponent(d);p&&(p.spriteFrame=this.cardBack)}else{var f=e.getComponent(d);f&&(f.spriteFrame=this.cardBack)}e.setPosition(u),e.active=!0,y(e).to(.5,{position:h},{easing:"sineOut"}).call((function(){-1!==t&&(o.flipCard(e,t),n&&n.meTurn&&(i?l.children.length>1&&n.showTurnSplit():n.showTurnMain())),s&&(s.enabled=!0,s.updateLayout())})).start()},l.flipCard=function(e,t){var n=this;y(e).to(.2,{scale:new w(0,1,1)}).call((function(){var i=e.getChildByName("sprite"),a=i?i.getComponent(d):e.getComponent(d);a&&(a.spriteFrame=n.cardFronts[t])})).to(.3,{scale:new w(1,1,1)}).start()},l.showGuide=function(){this.guideBG.active=!0,this.guide.active=!0},l.hideGuide=function(){this.guideBG.active=!1,this.guide.active=!1},t}(I)).instance=null,Le=t((Ne=Pt).prototype,"roomDetail",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Ne.prototype,"listTableSpr",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=t(Ne.prototype,"tableSpr",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(Ne.prototype,"chipNodes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(Ne.prototype,"boxSettingContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Ne.prototype,"lblToast",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Ne.prototype,"players",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Me=t(Ne.prototype,"mePlayer",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Ne.prototype,"lblDeck",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Ne.prototype,"blackjackMachine",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(Ne.prototype,"cardBack",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Ne.prototype,"cardFronts",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=t(Ne.prototype,"chipContainer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Ne.prototype,"countdownSecond",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Ne.prototype,"progressSprite",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Ne.prototype,"progressSpriteGreen",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Ne.prototype,"progressSpriteYellow",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Ne.prototype,"progressSpriteRed",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Ne.prototype,"boxChat",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Ne.prototype,"popupRank",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Ne.prototype,"popupContainer",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Ne.prototype,"editBoxChat",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Ne.prototype,"dealerNode",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Ne.prototype,"dealerCardContainer",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Ne.prototype,"dealerCards",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Ne.prototype,"dealerCard",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Ne.prototype,"lblDealerSum",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Ne.prototype,"dealerCardBlackjack",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Ne.prototype,"labelDealerNotify",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Ne.prototype,"inGameButtons",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=t(Ne.prototype,"bottomBarBet",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Ne.prototype,"nodeDisableRebet",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Ne.prototype,"nodeDisableBetX2",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(Ne.prototype,"nodeDisableClearBet",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(Ne.prototype,"nodeDisableFinishBet",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=t(Ne.prototype,"bottomBarDeal",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=t(Ne.prototype,"nodeInsurance",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=t(Ne.prototype,"nodeEvenMoney",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=t(Ne.prototype,"boxHelp",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=t(Ne.prototype,"spriteFrameBetVip",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=t(Ne.prototype,"spriteFrameBetNormal",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=t(Ne.prototype,"spriteFrameActiveBetVip",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=t(Ne.prototype,"spriteFrameActiveBetNormal",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=t(Ne.prototype,"arrayNodesBet",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bt=t(Ne.prototype,"guideBG",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=t(Ne.prototype,"guide",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=Ne))||Ae)||Ae));l._RF.pop()}}}));

System.register("chunks:///_virtual/BlackJack.Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Casino.Player.ts","./BlackJack.Play.ts","./Utils.ts"],(function(t){var e,i,n,r,a,s,o,l,u,c,h,p,d,f,m,g,S,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,o=t.Node,l=t.Label,u=t.Sprite,c=t.SpriteFrame,h=t.v3,p=t.UIOpacity,d=t.Tween,f=t.tween,m=t.UITransform,g=t.instantiate},function(t){S=t.default},function(t){v=t.default},function(t){b=t.Utils}],execute:function(){var C,y,T,B,w,A,N,k,z,M,R,U,L,F,I,E,W,P,G,J,_,D,x,K,O,X,Y,j,H,q,Q,Z,V,$,tt,et,it,nt;a._RF.push({},"8562a3mJwtCTokAGXFqZIWU","BlackJack.Player",void 0);var rt=s.ccclass,at=s.property,st=s.menu;t("default",(C=st("BlackJack/Player"),y=at(o),T=at(o),B=at([o]),w=at(o),A=at(o),N=at(o),k=at(l),z=at([o]),M=at(o),R=at(o),U=at(o),L=at(o),F=at(l),I=at(u),E=at(c),W=at(c),P=at(c),rt(G=C(((nt=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).STATUS={Bust:0,DoubleDown:1,Stand:2,Split:3,Hit:4},e.RESULT_STATUS={WIN:0,LOSE:1,DRAW:2,BLACKJACK:3,BUST:4},n(e,"statusNode",_,r(e)),n(e,"betAmount",D,r(e)),n(e,"status",x,r(e)),n(e,"mainCardContainer",K,r(e)),n(e,"mainCards",O,r(e)),n(e,"mainCard",X,r(e)),n(e,"lblMainSum",Y,r(e)),n(e,"resultStatus",j,r(e)),n(e,"effectAvatarWin",H,r(e)),n(e,"splitCardContainer",q,r(e)),n(e,"splitCards",Q,r(e)),n(e,"splitCard",Z,r(e)),n(e,"lblSplitSum",V,r(e)),n(e,"progressSprite",$,r(e)),n(e,"progressSpriteGreen",tt,r(e)),n(e,"progressSpriteYellow",et,r(e)),n(e,"progressSpriteRed",it,r(e)),e.totalBetAmount=0,e.lastMainCardIdx=0,e.lastSplitCardIdx=0,e.betLogs=[],e.meTurn=!1,e.isShowedTurnMain=!1,e.hasSplit=!1,e.playerTimeoutFunction=null,e}i(e,t);var a=e.prototype;return a.start=function(){e.instance=this},a.leave=function(){t.prototype.leave.call(this),this.resetTable()},a.set=function(e){t.prototype.set.call(this,e),this.resetTable()},a.resetTable=function(){this.totalBetAmount=0,this.isWin=!1,this.betLogs=[],this.mainCardContainer.active=!1,this.splitCardContainer.active=!1,this.statusNode.getChildByName("checkmark").active=!1,this.betAmount.active=!1,this.effectAvatarWin.active=!1;for(var t=0;t<this.resultStatus.length;t++)this.resultStatus[t].active=!1;for(var e=0;e<this.status.length;e++)this.status[e].active=!1;this.hideReady(),this.hideRegisterQuit(),this.hideWinAnimation(),this.progressSprite.node.active=!1,this.hideTurnMain(),this.hideTurnSplit(),this.meTurn=!1,this.hasSplit=!1,this.isShowedTurnMain=!1},a.handleCardMain=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1),this.showTurnMain(),this.handleCards(this.mainCardContainer,this.mainCards,this.lblMainSum,this.mainCard,t,e,i,n,!1)},a.handleCardSplit=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1),this.showTurnSplit(),this.hasSplit=!0,this.handleCards(this.splitCardContainer,this.splitCards,this.lblSplitSum,this.splitCard,t,e,i,n,!0)},a.handleCards=function(t,i,n,r,a,s,o,l,u){var c=this;void 0===o&&(o=0),void 0===l&&(l=!1),void 0===u&&(u=!1),l||(t.active=!0,i.removeAllChildren(),n.node.parent.active=!1,n.string="");for(var h=u?"lastSplitCardIdx":"lastMainCardIdx",p=l?this[h]:0,d=function(t){var e=g(r);e.getChildByName("arrow").active=!1,e.parent=i,e.active=!1,c.scheduleOnce((function(){v.instance.moveCardFromMachine(e,a[t],c,u)}),t-p)},f=p;f<a.length;f++)d(f);this.scheduleOnce((function(){l?(n.string=o.toString(),o>21&&(c.updateStatus(c.STATUS.Bust),i.children.forEach((function(t){t.getChildByName("mask").active=!0}))),o>=21&&c.id===v.instance.mePlayer.id&&(!c.hasSplit||u)&&(c.resetTimeout(),v.instance.inGameButtons.forEach((function(t){t.getChildByName("disable").active=!0})))):(n.node.parent.active=!0,n.string=s.join("/"),s.includes(21)&&c.showResult(e.instance.RESULT_STATUS.BLACKJACK))}),a.length-p),this[h]=a.length},a.updateBetAmount=function(t){this.betLogs.push(t),this.totalBetAmount+=t,this.betAmount.active=!0,this.betAmount.getComponentInChildren(l).string=b.formatMoney(this.totalBetAmount,!0)},a.clearBetAmount=function(){this.totalBetAmount=0,this.betLogs=[],this.betAmount.active=!1,this.betAmount.getComponentInChildren(l).string="0"},a.updateStatus=function(t){for(var e=0;e<this.status.length;e++)this.status[e].active=e===t},a.showResult=function(t){for(var e=0;e<this.resultStatus.length;e++)this.resultStatus[e].active=e===t;for(var i=0;i<this.status.length;i++)this.status[i].active=!1;t===this.RESULT_STATUS.WIN&&(this.effectAvatarWin.active=!0)},a.resetTimeout=function(){this.unschedule(this.playerTimeoutFunction),this.progressSprite.node.active=!1,this.progressSprite.fillRange=0,this.progressSprite.spriteFrame=this.progressSpriteGreen,this.progressSprite.node.setScale(h(-1,1,1)),this.hideTurnMain(),this.hideTurnSplit()},a.updateTimeout=function(t){var e=this;this.progressSprite.node.active=!0;var i=t,n=0;this.schedule(this.playerTimeoutFunction=function(){if((t-=.05)<=0)return e.unschedule(e.playerTimeoutFunction),e.progressSprite.node.active=!1,void(e.id===v.instance.mePlayer.id&&v.instance.inGameButtons.forEach((function(t){t.getChildByName("disable").active=!0})));n+=.05;var r=Math.min(n/i,1);e.progressSprite.fillRange=r,e.progressSprite.spriteFrame=r<.5?e.progressSpriteGreen:r<.8?e.progressSpriteYellow:e.progressSpriteRed,e.progressSprite.node.setScale(h(-1,1,1))},.05)},a.blinkSprite=function(t){if(t){var e=t.getComponent(p);e.opacity=255,d.stopAllByTarget(t),f(e).repeatForever(f().to(.4,{opacity:100}).to(.4,{opacity:255})).start()}},a.stopBlinkSprite=function(t){t&&(d.stopAllByTarget(t),t.getComponent(p).opacity=255)},a.showTurnMain=function(){var t=this;this.meTurn&&(this.isShowedTurnMain=!0,this.mainCards.children.forEach((function(e,i){var n=e.getChildByName("turn"),r=null==n?void 0:n.getChildByName("sprite");r&&(r.getComponent(m).anchorX=0===i?.5:0,n.active=!0,t.blinkSprite(r)),e.getChildByName("arrow").active=0===i})))},a.hideTurnMain=function(){var t=this;this.mainCards.children.forEach((function(e){var i=e.getChildByName("turn"),n=null==i?void 0:i.getChildByName("sprite");n&&t.stopBlinkSprite(n),i&&(i.active=!1),e.getChildByName("arrow").active=!1}))},a.showTurnSplit=function(){var t=this;this.meTurn&&this.splitCards.children.forEach((function(e,i){var n=e.getChildByName("turn"),r=null==n?void 0:n.getChildByName("sprite");r&&(r.getComponent(m).anchorX=0===i?.5:0,n.active=!0,t.blinkSprite(r)),e.getChildByName("arrow").active=0===i}))},a.hideTurnSplit=function(){var t=this;this.splitCards.children.forEach((function(e){var i=e.getChildByName("turn"),n=null==i?void 0:i.getChildByName("sprite");n&&t.stopBlinkSprite(n),i&&(i.active=!1),e.getChildByName("arrow").active=!1}))},e}(S)).instance=null,_=e((J=nt).prototype,"statusNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(J.prototype,"betAmount",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(J.prototype,"status",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(J.prototype,"mainCardContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(J.prototype,"mainCards",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(J.prototype,"mainCard",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(J.prototype,"lblMainSum",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(J.prototype,"resultStatus",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(J.prototype,"effectAvatarWin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(J.prototype,"splitCardContainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(J.prototype,"splitCards",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(J.prototype,"splitCard",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(J.prototype,"lblSplitSum",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(J.prototype,"progressSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(J.prototype,"progressSpriteGreen",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(J.prototype,"progressSpriteYellow",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(J.prototype,"progressSpriteRed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=J))||G)||G));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/BlackJack', 'chunks:///_virtual/BlackJack'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});