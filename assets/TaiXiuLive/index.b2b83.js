System.register("chunks:///_virtual/TaiXiuLive",["./TaiXiuLive.ChatBox.ts","./TaiXiuLive.EventSH.ts","./TaiXiuLive.EventTienTri.ts","./TaiXiuLive.MiniLive.ts","./TaiXiuLive.PopupDetailSession.ts","./TaiXiuLive.PopupHistory.ts","./TaiXiuLive.PopupHistoryJackpot.ts","./TaiXiuLive.PopupHonors.ts","./TaiXiuLive.SoiCauJP.ts","./TaiXiuLiveJP.Controller.ts","./TaiXiuLiveMD5.Controller.ts","./TaiXiuLiveMD5.PopupDetailSession.ts","./TaiXiuLiveMD5.PopupHistory.ts","./TaiXiuLiveMD5.PopupHonors.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/TaiXiuLive.ChatBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaiXiuLiveJP.Controller.ts","./App.ts","./ChatHubSignalRClient.ts","./Config.ts","./TaiXiuLiveMD5.Controller.ts"],(function(e){var t,i,n,a,o,r,l,c,s,g,f,u,h,d,m,p,v,C,T,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Node,c=e.ScrollView,s=e.EditBox,g=e.SpriteFrame,f=e.instantiate,u=e.Sprite,h=e.Label,d=e.RichText,m=e.Component},function(e){p=e.default},function(e){v=e.default},function(e){C=e.default},function(e){T=e.default},function(e){b=e.default}],execute:function(){var y,_,N,I,M,B,x,L,k,A,S,w,P,E,H,D,z,K,F,X,O;o._RF.push({},"3f1e8yFTIBDerS1WhAijBLX","TaiXiuLive.ChatBox",void 0);var G=r.ccclass,R=r.property,U=r.menu;e("TaiXiuLiveChatBox",(y=U("TaiXiuLiveJP/ChatBox"),_=R(l),N=R(c),I=R(s),M=R(l),B=R(l),x=R(l),L=R(l),k=R([g]),A=R(l),G(S=y((P=t((w=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).CHAT_CHANNEL="game_taixiu_jp_live",t.CHAT_MD5_CHANNEL="game_taixiu_md5_live",n(t,"itemChatTemplate",P,a(t)),n(t,"scrMessage",E,a(t)),n(t,"edbMessage",H,a(t)),n(t,"chatBox",D,a(t)),n(t,"chatTipBox",z,a(t)),n(t,"listGiftNode",K,a(t)),n(t,"giftTemplate",F,a(t)),n(t,"giftFrames",X,a(t)),n(t,"selectedTIP",O,a(t)),t.giftList=[{id:1,name:"Hoa hồng",value:"1K",key:"gift_commission"},{id:2,name:"Kẹo mút",value:"2K",key:"gift_lollipop"},{id:3,name:"Que kem",value:"5K",key:"gift_icecream"},{id:4,name:"Trà sữa",value:"10K",key:"gift_milk_tea"},{id:5,name:"Ly Bia",value:"20K",key:"gift_beer"},{id:6,name:"Nụ hôn",value:"50K",key:"gift_kiss"},{id:7,name:"Trái tim",value:"100K",key:"gift_heart"},{id:8,name:"Nhẫn",value:"200K",key:"gift_ring"},{id:9,name:"Iphone",value:"500K",key:"gift_iphone"},{id:10,name:"Kim Cương",value:"1M",key:"gift_diamond"},{id:11,name:"Vương miện",value:"2M",key:"gift_crown"},{id:12,name:"Xe máy",value:"5M",key:"gift_motorbike"},{id:13,name:"ô tô",value:"10M",key:"gift_car"}],t.giftIdSelected=0,t.giftNodeSelected=null,t.chatChannel=t.CHAT_CHANNEL,t}i(t,e);var o=t.prototype;return o.start=function(){var e=this;if(p.instance||(this.chatChannel=this.CHAT_MD5_CHANNEL),this.itemChatTemplate.active=!1,this.edbMessage){this.edbMessage.node.on("editing-return",(function(){e.sendChat()})),this.chatBox.active=!0,this.chatTipBox.active=!1,this.listGiftNode.removeAllChildren();var t=v.instance.getTextLang("text_tri_gia");this.giftList.forEach((function(i){var n=f(e.giftTemplate),a=i.key,o=i.value,r=v.instance.getTextLang(a);n.getChildByName("ICON").getComponent(u).spriteFrame=e.giftFrames[i.id-1],n.getChildByName("NAME").getComponent(h).string=r,n.getChildByName("VALUE").getComponent(h).string=o,n.on(l.EventType.TOUCH_END,(function(){if(e.giftIdSelected==i.id)return e.giftIdSelected=0,e.selectedTIP.active=!1,void(e.giftNodeSelected=null);e.giftNodeSelected=n,e.giftIdSelected=i.id,e.selectedTIP.active=!0,e.selectedTIP.getChildByName("ICON").getComponent(u).spriteFrame=e.giftFrames[i.id-1],e.selectedTIP.getChildByName("TITLE").getComponent(h).string="TIP "+r,e.selectedTIP.getChildByName("AMOUNT").getComponent(h).string=t+": "+o})),n.active=!0,n.parent=e.listGiftNode}))}C.getInstance().registerChat(this.chatChannel,(function(e){})),C.getInstance().receiveChat((function(t){t.forEach((function(t){t.i===e.chatChannel&&e.addMessage(t)}))})),C.getInstance().receiveTIP((function(e){}))},o.show=function(){this.node.active=!0},o.hide=function(){this.node.active=!1},o.addMessage=function(e){for(var t=null,i=0;i<this.scrMessage.content.children.length;i++){var n=this.scrMessage.content.children[i];if(!n.active){t=n;break}}null==t&&(t=this.scrMessage.content.children.length>=50?this.scrMessage.content.children[0]:f(this.itemChatTemplate));for(var a=0,o=0;o<this.scrMessage.content.children.length;o++){var r=this.scrMessage.content.children[o];r!=t&&r.setSiblingIndex(a++)}t.parent=this.scrMessage.content,e.v>=6?t.getComponent(d).string="<color=#ffffff>"+e.c+"</color>":e.a+":"+e.p==T.Login.AccountID+":"+T.Login.PortalID?t.getComponent(d).string="<color=#fff600>"+e.n+": </c><color=#ffffff>"+e.c+"</color>":t.getComponent(d).string="<color=#6bfb01>"+e.n+": </c><color=#ffffff>"+e.c+"</color>",t.active=!0,t.setSiblingIndex(a++),this.scrollToBottom()},o.sendChat=function(){var e=this.edbMessage.string.trim();0!=e.length&&(this.edbMessage.string="",C.getInstance().sendChat(this.chatChannel,e,(function(e){})))},o.scrollToBottom=function(){this.scrMessage.scrollToBottom(.2)},o.toggleChatTip=function(){this.chatTipBox.active=!this.chatTipBox.active,this.chatBox.active=!this.chatBox.active},o.actTIP=function(){var e=this,t=this.chatChannel==this.CHAT_CHANNEL?117:123;C.getInstance().sendTIP(this.chatChannel,t+"|"+this.giftIdSelected,(function(t){t.c<0&&v.instance.alertDialog.showMsg(v.instance.getTextLang("me"+t.c)),e.hide(),p.instance?p.instance.showToast(v.instance.getTextLang("iap192")):b.instance&&b.instance.showToast(v.instance.getTextLang("iap192")),e.giftNodeSelected.emit(l.EventType.TOUCH_END)}))},t}(m)).prototype,"itemChatTemplate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"scrMessage",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"edbMessage",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"chatBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"chatTipBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(w.prototype,"listGiftNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"giftTemplate",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(w.prototype,"giftFrames",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(w.prototype,"selectedTIP",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S)||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.EventSH.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./App.ts","./Http.ts","./Config.ts","./Utils.ts"],(function(e){var t,n,i,a,o,r,l,s,u,c,p,g,m,f,d,h,b,C,v,y,T,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Node,s=e.Toggle,u=e.SpriteFrame,c=e.instantiate,p=e.Sprite,g=e.Label,m=e.Tween,f=e.tween,d=e.v3,h=e.Color,b=e.EditBox},function(e){C=e.default},function(e){v=e.default},function(e){y=e.default},function(e){T=e.default},function(e){I=e.Utils}],execute:function(){var B,D,w,A,z,N,x,S,E,H,L,F,G,P,M,O,V,_,j,k,R,U,X,J,K,Z,q,Q,W,Y,$;o._RF.push({},"a46d7It3d5Al4PRi5I0aOU+","TaiXiuLive.EventSH",void 0);var ee=r.ccclass,te=r.property,ne=r.menu;e("EventSH",(B=ne("TaiXiuLiveJP/EventSH"),D=te([l]),w=te([s]),A=te(l),z=te(l),N=te(l),x=te(l),S=te(u),E=te(u),H=te(u),L=te(u),F=te(u),G=te(u),P=te(u),M=te(l),ee(O=B((_=t((V=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"tabContentsEventSH",_,a(t)),i(t,"tabTogglesEventSH",j,a(t)),t.currentTabEventSH=0,i(t,"listAccount",k,a(t)),i(t,"itemAccount",R,a(t)),i(t,"listTop",U,a(t)),i(t,"itemTop",X,a(t)),i(t,"sprFrameBox1",J,a(t)),i(t,"sprFrameBox2",K,a(t)),i(t,"sprFrameBox3",Z,a(t)),i(t,"sprFrameBox4",q,a(t)),i(t,"sprFrameBox5",Q,a(t)),i(t,"BG1",W,a(t)),i(t,"BG2",Y,a(t)),i(t,"selectedBoxes",$,a(t)),t.gameID=0,t.prizeIDTop=1,t.serverNames=["HongKong","LasVegas","Macau"],t}n(t,e);var o=t.prototype;return o.showDetail=function(e){this.gameID=e,this.show()},o.show=function(){e.prototype.show.call(this),this.loadDataAPIAccount(),this.loadDataAPITop(null,this.prizeIDTop)},o.onEnable=function(){this.listAccount.removeAllChildren(),this.listTop.removeAllChildren()},o.selectedToggleTabs=function(e,t){var n=parseInt(t);this.currentTabEventSH!==n&&(this.showTab(n),0!=e.isChecked&&(0===n?this.loadDataAPIAccount():1===n&&this.loadDataAPITop(null,this.prizeIDTop)))},o.showTab=function(e){var t=this;this.currentTabEventSH=e,this.tabContentsEventSH.forEach((function(t,n){t.active=n===e})),this.tabTogglesEventSH.forEach((function(n,i){t.updateToggleTextColor(n,i===e)}))},o.loadDataAPIAccount=function(){var e=this;v.instance.showLoading(!0),y.get(T.App.DOMAIN_CONFIG.GetEventChestAccountInfo,{currencyID:T.Login.CurrencyID,GameID:this.gameID,onlyNew:!1},(function(t,n){if(e.listAccount.removeAllChildren(),n.c<0)return v.instance.showLoading(!1),void v.instance.alertDialog.showMsg(v.instance.getTextLang("me"+n.c));0!==n.d.ListChest.length?(n.d.ListChest.forEach((function(t,n){if(t.GameID==e.gameID){var i,a=c(e.itemAccount);a.getComponent(p).spriteFrame=n%2==0?e.BG1:e.BG2;var o="";if(0===t.PrizeValue&&0===t.SpecialGift)i=t.ExpireTimeCount<0?v.instance.getTextLang("ev45"):v.instance.getTextLang("ev42");else{t.PrizeValue>0?o=I.formatNumber(t.PrizeValue)+" TIPZO":1==t.SpecialGift?o="SH":2==t.SpecialGift&&(o="IPhone");var r=t.AwardTimeCount;if(r>0){i=v.instance.getTextLang("ev43");var l=setInterval((function(){if(r<0)return clearInterval(l),void(a.getChildByName("award").getComponent(g).string=o+"\n(00:00)");var e=Math.floor(r/60),t=r%60;a.getChildByName("award").getComponent(g).string=o+"\n("+(e<10?"0":"")+e+":"+(t<10?"0":"")+t+")",r--}),1e3)}else i=v.instance.getTextLang("ev44")}a.getChildByName("id").getComponent(g).string=t.ChestID+"\n"+e.serverNames[t.GameID-1],a.getChildByName("session").getComponent(g).string=t.BetsData.map((function(e){return"#"+e.GameSessionID})).join("\n"),a.getChildByName("betValue").getComponent(g).string=t.BetsData.map((function(e){return""+I.formatNumber(e.BetValue)})).join("\n"),a.getChildByName("time").getComponent(g).string=t.AwardTimeCount>0?I.formatDatetime(t.AwardTime,"dd/MM/yyyy HH:mm:ss"):I.formatDatetime(t.ExpireTime,"dd/MM/yyyy HH:mm:ss"),a.getChildByName("gift").getChildByName("prize").getComponent(p).spriteFrame=e["sprFrameBox"+t.PrizeID],a.getChildByName("status").getComponent(g).string=i,a.getChildByName("award").getComponent(g).string=o,a.active=!0,e.listAccount.addChild(a)}})),v.instance.showLoading(!1)):v.instance.showLoading(!1)}))},o.loadDataAPITop=function(e,t){var n=this;void 0===t&&(t="1"),v.instance.showLoading(!0),this.prizeIDTop=parseInt(t),this.selectedBoxes.children.forEach((function(e,t){t+1!==n.prizeIDTop?m.stopAllByTarget(e):f(e).repeatForever(f().to(.4,{scale:d(1.15,1.15,1.15)},{easing:"sineOut"}).to(.2,{scale:d(.95,.95,.95)},{easing:"sineIn"}).to(.3,{scale:d(1.05,1.05,1.05)},{easing:"sineOut"}).to(.5,{scale:d(1,1,1)},{easing:"sineInOut"})).start()})),y.get(T.App.DOMAIN_CONFIG.GetTopEventChest,{currencyID:T.Login.CurrencyID,GameID:this.gameID,prizeID:this.prizeIDTop,topCount:20},(function(e,t){if(n.listTop.removeAllChildren(),t.c<0)return v.instance.showLoading(!1),void v.instance.alertDialog.showMsg(v.instance.getTextLang("me"+t.c));t.d.forEach((function(e,t){var i,a=c(n.itemTop),o=a.getChildByName("bg1"),r=a.getChildByName("bg2"),l=a.getChildByName("content");o&&r&&(o.active=t%2==0,r.active=t%2!=0),i=0===e.PrizeValue&&0===e.SpecialGift?"":e.PrizeValue>0?I.formatNumber(e.PrizeValue):1==e.SpecialGift?"SH":2==e.SpecialGift?"Iphone":"",l.getChildByName("time").getComponent(g).string=I.formatDatetime(e.AwardTime,"dd/MM/yyyy HH:mm:ss"),l.getChildByName("account").getComponent(g).string=e.Nickname,l.getChildByName("gift").getChildByName("prize").getComponent(p).spriteFrame=n["sprFrameBox"+e.PrizeID],l.getChildByName("award").getComponent(g).string=i,n.listTop.addChild(a)})),v.instance.showLoading(!1)}))},o.updateToggleTextColor=function(e,t){var n=e.node.getChildByName("text");if(n){var i=n.getComponent(g);i&&(i.color=t?new h(255,240,0):new h(255,255,255))}},o._onDismissed=function(){for(var e=this.node.getComponentsInChildren(b),t=0;t<e.length;t++)e[t].tabIndex=-1;this.node.active=!1},t}(C)).prototype,"tabContentsEventSH",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(V.prototype,"tabTogglesEventSH",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(V.prototype,"listAccount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(V.prototype,"itemAccount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(V.prototype,"listTop",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(V.prototype,"itemTop",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(V.prototype,"sprFrameBox1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(V.prototype,"sprFrameBox2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(V.prototype,"sprFrameBox3",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(V.prototype,"sprFrameBox4",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(V.prototype,"sprFrameBox5",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(V.prototype,"BG1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(V.prototype,"BG2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(V.prototype,"selectedBoxes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=V))||O)||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.EventTienTri.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./Utils.ts","./Config.ts","./App.ts","./Http.ts"],(function(e){var t,n,i,o,r,l,a,s,u,g,c,h,d,p,C,f,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Toggle,s=e.Node,u=e.Label,g=e.Color,c=e.instantiate,h=e.EditBox,d=e.Sprite},function(e){p=e.default},function(e){C=e.Utils},function(e){f=e.default},function(e){b=e.default},function(e){m=e.default}],execute:function(){var D,y,T,v,w,x,B,R,N,I,z,L,M,S,k,F,P,A,W,E,G,Y,_,H,X,O,U,J,V,j,K,q,Q,Z,$,ee,te,ne,ie,oe,re,le,ae;r._RF.push({},"a6475a7pJVIloVNRfGaKLRG","TaiXiuLive.EventTienTri",void 0);var se=l.ccclass,ue=l.property,ge=l.menu;e("EventTienTri",(D=ge("TaiXiuLiveJP/EventTienTri"),y=ue(a),T=ue(a),v=ue(a),w=ue(a),x=ue(a),B=ue(s),R=ue(s),N=ue(s),I=ue(s),z=ue(s),L=ue(s),M=ue(s),S=ue(s),k=ue(s),F=ue([s]),P=ue(u),A=ue(u),W=ue(u),E=ue(g),G=ue(g),se(Y=D((H=t((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"toggleDay",H,o(t)),i(t,"toggleFinal",X,o(t)),i(t,"toggleRule",O,o(t)),i(t,"toggleWin",U,o(t)),i(t,"toggleLost",J,o(t)),i(t,"contentData",V,o(t)),i(t,"contentRule",j,o(t)),i(t,"headerWin",K,o(t)),i(t,"headerLost",q,o(t)),i(t,"listContent",Q,o(t)),i(t,"itemContent",Z,o(t)),i(t,"dropboxSelectDate",$,o(t)),i(t,"containerBoxCalenderResults",ee,o(t)),i(t,"dayItemPrefab",te,o(t)),i(t,"rows",ne,o(t)),i(t,"labelTitleTime",ie,o(t)),i(t,"labelTitleTimeBox",oe,o(t)),i(t,"labelTabResultTab",re,o(t)),i(t,"selectedColor",le,o(t)),i(t,"normalColor",ae,o(t)),t.gameID=1,t.isDay=!0,t.eventType=1,t.isShowContainerBoxCalenderResult=!1,t.currentDate=new Date,t.selectedNode=null,t.selectedDay=(new Date).getDate(),t.selectedDate="",t}n(t,e);var r=t.prototype;return r.start=function(){this.generateCalendar();var e=new Date;this.labelTitleTime.string=C.formatDatetime(e.toString(),"dd/MM/yyyy"),this.labelTitleTimeBox.string=C.formatDatetime(e.toString(),"dd/MM/yyyy")},r.showDetail=function(e){this.gameID=e,this.show()},r.show=function(){e.prototype.show.call(this),this.toggleDay.isChecked=!0,this.isDay=!0},r.selectedToggleTabs=function(e,t){var n=parseInt(t);if(2==n)return this.contentData.active=!1,this.contentRule.active=!0,this.updateToggleTextColor(this.toggleRule,!0),this.updateToggleTextColor(this.toggleDay,!1),void this.updateToggleTextColor(this.toggleFinal,!1);this.updateToggleTextColor(this.toggleRule,!1),0==n?(this.updateToggleTextColor(this.toggleDay,!0),this.updateToggleTextColor(this.toggleFinal,!1)):(this.updateToggleTextColor(this.toggleDay,!1),this.updateToggleTextColor(this.toggleFinal,!0)),0!=e.isChecked&&(this.contentData.active=!0,this.contentRule.active=!1,this.isDay=0==n,this.toggleWin.isChecked?this.loadDataAPI():this.toggleWin.isChecked=!0)},r.onToggleWinLost=function(e,t){"0"===t?(this.updateToggleTextColor(this.toggleWin,!0),this.updateToggleTextColor(this.toggleLost,!1),this.headerWin.active=!0,this.headerLost.active=!1):(this.updateToggleTextColor(this.toggleWin,!1),this.updateToggleTextColor(this.toggleLost,!0),this.headerWin.active=!1,this.headerLost.active=!0),e.isChecked&&this.loadDataAPI()},r.loadDataAPI=function(){var e=this;this.isDay?this.eventType=this.toggleWin.isChecked?1:2:this.eventType=this.toggleWin.isChecked?3:4;var t=new Date;""!==this.selectedDate&&(t=new Date(this.selectedDate));var n={currencyID:f.Login.CurrencyID,GameID:this.gameID,eventType:this.eventType,eventDate:t.toDateString().replace(/ /g,"%20"),topCount:10};this.listContent.removeAllChildren(),b.instance.showLoading(!0),m.get(f.App.DOMAIN_CONFIG.GetTopEventLuckyDice,n,(function(t,n){if(200===t)if(n.d){for(var i=n.d,o=0;o<n.d.length;o++){var r=c(e.itemContent),l=r.getChildByName("content"),a=l.getChildByName("gift");e.isDay&&(1===i[o].Rank&&(a.getComponent(u).string="2.000.000"),2===i[o].Rank&&(a.getComponent(u).string="1.000.000"),3===i[o].Rank&&(a.getComponent(u).string="500.000")),3===e.eventType&&1===i[o].Rank&&(a.getComponent(u).string="Iphone 16 Pro 256GB"),4===e.eventType&&1===i[o].Rank&&(a.getComponent(u).string="Iphone 16 Pro Max 256GB");var s=r.getChildByName("bg1"),g=r.getChildByName("bg2");s&&g&&(s.active=o%2==0,g.active=o%2!=0),l.getChildByName("stt").getComponent(u).string=i[o].Rank,l.getChildByName("accountName").getComponent(u).string=i[o].Nickname,l.getChildByName("continual").getComponent(u).string=i[o].ContinuousCount,l.getChildByName("total").getComponent(u).string=C.formatNumber(i[o].TotalBet),l.getChildByName("session").getComponent(u).string="#"+i[o].GameSessionID,r.active=!0,e.listContent.addChild(r)}b.instance.showLoading(!1)}else b.instance.showLoading(!1);else b.instance.showLoading(!1)}))},r.updateToggleTextColor=function(e,t){e.node.getChildByName("text").getComponent(u).color=t?new g(255,240,0):new g(255,255,255)},r._onDismissed=function(){for(var e=this.node.getComponentsInChildren(h),t=0;t<e.length;t++)e[t].tabIndex=-1;this.node.active=!1},r.showBoxCalender=function(){this.isShowContainerBoxCalenderResult=!this.isShowContainerBoxCalenderResult,this.containerBoxCalenderResults.active=this.isShowContainerBoxCalenderResult,this.generateCalendar()},r.generateCalendar=function(){var e=this;if(this.dayItemPrefab&&!(this.rows.length<5)){this.rows.forEach((function(e){return e.removeAllChildren()}));var t=this.currentDate.getFullYear(),n=this.currentDate.getMonth(),i=new Date(t,n+1,0).getDate(),o=0;this.selectedNode=null;for(var r,l=function(t){var n=c(e.dayItemPrefab),i=n.getChildByName("text").getComponent(u);if(!i)return{v:void 0};i.string=t.toString(),t===e.selectedDay?(n.getComponent(d).color=e.selectedColor,e.selectedNode=n):n.getComponent(d).color=e.normalColor,n.on(s.EventType.TOUCH_END,(function(){return e.onDaySelected(n,t)}),e),e.rows[o].addChild(n),t%7==0&&o<e.rows.length-1&&o++},a=1;a<=i;a++)if(r=l(a))return r.v}},r.onDaySelected=function(e,t){this.selectedNode&&(this.selectedNode.getComponent(d).color=this.normalColor),this.selectedDay=t,this.selectedNode=e,this.selectedNode.getComponent(d).color=this.selectedColor;var n=("0"+t).slice(-2),i=("0"+(this.currentDate.getMonth()+1)).slice(-2),o=this.currentDate.getFullYear().toString(),r=n+"/"+i+"/"+o;this.labelTitleTime.string=r,this.labelTitleTimeBox.string=r,this.containerBoxCalenderResults.active=!1,this.isShowContainerBoxCalenderResult=!this.isShowContainerBoxCalenderResult,this.selectedDate=o+"-"+i+"-"+n,this.loadDataAPI()},r.updateCalendarAfterMonthChange=function(){var e=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,0).getDate();this.selectedDay>e&&(this.selectedDay=e),this.selectedNode=null,this.generateCalendar();var t=("0"+this.selectedDay).slice(-2),n=("0"+(this.currentDate.getMonth()+1)).slice(-2),i=this.currentDate.getFullYear().toString();this.labelTitleTime.string=t+"/"+n+"/"+i,this.labelTitleTimeBox.string=t+"/"+n+"/"+i},r.onNextMonth=function(){var e=this.currentDate.getMonth(),t=this.currentDate.getFullYear();11===e?(this.currentDate.setFullYear(t+1),this.currentDate.setMonth(0)):this.currentDate.setMonth(e+1),this.updateCalendarAfterMonthChange()},r.onPreviousMonth=function(){var e=this.currentDate.getMonth(),t=this.currentDate.getFullYear();0===e?(this.currentDate.setFullYear(t-1),this.currentDate.setMonth(11)):this.currentDate.setMonth(e-1),this.updateCalendarAfterMonthChange()},t}(p)).prototype,"toggleDay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(_.prototype,"toggleFinal",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(_.prototype,"toggleRule",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(_.prototype,"toggleWin",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(_.prototype,"toggleLost",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(_.prototype,"contentData",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(_.prototype,"contentRule",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(_.prototype,"headerWin",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(_.prototype,"headerLost",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(_.prototype,"listContent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(_.prototype,"itemContent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(_.prototype,"dropboxSelectDate",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(_.prototype,"containerBoxCalenderResults",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(_.prototype,"dayItemPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(_.prototype,"rows",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(_.prototype,"labelTitleTime",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(_.prototype,"labelTitleTimeBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(_.prototype,"labelTabResultTab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(_.prototype,"selectedColor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new g).fromHEX("#8043DB")}}),ae=t(_.prototype,"normalColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new g).fromHEX("#cdbee4")}}),Y=_))||Y)||Y));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.MiniLive.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,o,r,a,c,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,c=i.Node,u=i.Component}],execute:function(){var s,v,l,p,L,f;r._RF.push({},"5168806dS9DJaC9VGYJj7Yh","TaiXiuLive.MiniLive",void 0);var h=a.ccclass,d=a.property,y=a.menu;i("default",(s=h("TaiXiuLiveMiniLive"),v=y("TaiXiuLiveJP/MiniLive"),l=d(c),s(p=v((f=e((L=function(i){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=i.call.apply(i,[this].concat(r))||this,t(e,"miniLiveNode",f,o(e)),e}n(e,i);var r=e.prototype;return r.onEnable=function(){this.showMiniLive()},r.showMiniLive=function(){this.miniLiveNode.active=!0},r.hideMiniLive=function(){this.miniLiveNode.active=!1},e}(u)).prototype,"miniLiveNode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=L))||p)||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.PopupDetailSession.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./App.ts","./Config.ts","./Http.ts","./Utils.ts"],(function(e){var i,t,n,a,s,l,r,o,u,c,p,b,f,h,m,d,D,g,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Label,o=e.Node,u=e.SpriteFrame,c=e.Sprite,p=e.Tween,b=e.tween,f=e.v3,h=e.instantiate},function(e){m=e.default},function(e){d=e.default},function(e){D=e.default},function(e){g=e.default},function(e){y=e.Utils}],execute:function(){var T,v,I,S,w,B,C,X,z,N,L,R,A,F,P,M,V,_,G,O,x,H,k,U,q,W,j,E,J,K,Q,Y,Z,$,ee,ie,te;s._RF.push({},"f2b4aP0tlFM/ov9/CIW2ITU","TaiXiuLive.PopupDetailSession",void 0);var ne=l.ccclass,ae=l.property,se=l.menu;e("default",(T=se("TaiXiuLiveJP/PopupDetailSession"),v=ae(r),I=ae(r),S=ae(r),w=ae(r),B=ae(r),C=ae(r),X=ae(o),z=ae(o),N=ae(o),L=ae(o),R=ae([u]),A=ae(c),F=ae(c),P=ae(c),M=ae(r),V=ae(o),_=ae(o),ne(G=T((x=i((O=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s))||this,n(i,"lblSession",x,a(i)),n(i,"lblSessionDate",H,a(i)),n(i,"lblTotalBetTai",k,a(i)),n(i,"lblTotalRefundTai",U,a(i)),n(i,"lblTotalBetXiu",q,a(i)),n(i,"lblTotalRefundXiu",W,a(i)),n(i,"itemsTai",j,a(i)),n(i,"itemsXiu",E,a(i)),n(i,"itemTai",J,a(i)),n(i,"itemXiu",K,a(i)),n(i,"sfDices",Q,a(i)),n(i,"sprDice1",Y,a(i)),n(i,"sprDice2",Z,a(i)),n(i,"sprDice3",$,a(i)),n(i,"labelSumDices",ee,a(i)),n(i,"nodeTai",ie,a(i)),n(i,"nodeXiu",te,a(i)),i.gameID=1,i.betType=1,i.sessionID=0,i.type=1,i.detailSessions=[],i}t(i,e);var s=i.prototype;return s.showDetail=function(e,i,t){this.sessionID=e,this.gameID=i,t&&0!==t.length&&(this.detailSessions=t,this.show())},s.onChangeType=function(){this.type=(this.type+1)%3,this.loadData()},s.onChangeBetType=function(){this.betType=1===this.betType?2:1,this.loadData()},s.show=function(){e.prototype.show.call(this),this.loadData()},s.loadData=function(){var e=this;this.lblSession.string=d.instance.getTextLang("txt_session")+": #"+this.sessionID,this.itemsTai.removeAllChildren(),this.itemsXiu.removeAllChildren(),this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.lblTotalBetTai.string="",this.lblTotalRefundTai.string="",this.lblTotalBetXiu.string="",this.lblTotalRefundXiu.string="",d.instance.showLoading(!0);var i=0,t=0,n=0,a=0,s=this.detailSessions.find((function(i){return i.GameSessionID==e.sessionID}));this.sprDice1.spriteFrame=this.sfDices[s.Dice1-1],this.sprDice2.spriteFrame=this.sfDices[s.Dice2-1],this.sprDice3.spriteFrame=this.sfDices[s.Dice3-1],this.labelSumDices.string=s.Dice1+s.Dice2+s.Dice3+"",this.sprDice1.node.active=!0,this.sprDice2.node.active=!0,this.sprDice3.node.active=!0,this.lblSessionDate.node.active=!1,p.stopAllByTarget(this.nodeTai),p.stopAllByTarget(this.nodeXiu);var l=2===s.LocationIDWin?this.nodeTai:this.nodeXiu;b(l).repeatForever(b().to(.25,{scale:f(1.25,1.25,1.25)},{easing:"quadOut"}).to(.2,{scale:f(.9,.9,.9)},{easing:"quadIn"}).to(.15,{scale:f(1.1,1.1,1.1)},{easing:"sineOut"}).to(.1,{scale:f(1,1,1)},{easing:"sineInOut"})).start();var o=D.App.DOMAIN_CONFIG.GetBetDetailsLuckyDice+"?currencyID="+D.Login.CurrencyID+"&gameID="+this.gameID+"&betType="+this.betType+"&sessionID="+this.sessionID+"&type="+this.type;g.post(o,{},(function(s,l){l.d.l.forEach((function(s,l){0==l&&(e.lblSessionDate.node.active=!0,e.lblSessionDate.string=y.formatDatetime(s.CreatedTime,"dd/MM/yyyy"));var o=h(2==s.LocationID?e.itemTai:e.itemXiu),u=o.getChildByName("bg1"),c=o.getChildByName("bg2");u&&c&&(u.active=l%2==0,c.active=l%2!=0);var p=o.getChildByName("content");p.getChildByName("Time").getComponent(r).string=y.formatDatetime(s.CreatedTime,"dd/MM/yyyy HH:mm:ss"),p.getChildByName("Account").getComponent(r).string=s.Nickname,p.getChildByName("Refund").getComponent(r).string=y.formatNumber(s.refundValue),p.getChildByName("Bet").getComponent(r).string=y.formatNumber(s.betValue),2==s.LocationID?(i+=s.BetValue,t+=s.RefundValue,e.itemsTai.addChild(o)):(n+=s.BetValue,a+=s.RefundValue,e.itemsXiu.addChild(o))})),e.lblTotalBetTai.string=y.formatNumber(i),e.lblTotalRefundTai.string=y.formatNumber(t),e.lblTotalBetXiu.string=y.formatNumber(n),e.lblTotalRefundXiu.string=y.formatNumber(a)})),d.instance.showLoading(!1)},s.actNextSession=function(){var e=this;this.sessionID++,this.detailSessions.find((function(i){return i.GameSessionID==e.sessionID}))?this.loadData():this.sessionID--},s.actPrevSession=function(){var e=this;this.sessionID--,this.detailSessions.find((function(i){return i.GameSessionID==e.sessionID}))?this.loadData():this.sessionID++},i}(m)).prototype,"lblSession",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(O.prototype,"lblSessionDate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(O.prototype,"lblTotalBetTai",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(O.prototype,"lblTotalRefundTai",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(O.prototype,"lblTotalBetXiu",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(O.prototype,"lblTotalRefundXiu",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(O.prototype,"itemsTai",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(O.prototype,"itemsXiu",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(O.prototype,"itemTai",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(O.prototype,"itemXiu",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(O.prototype,"sfDices",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(O.prototype,"sprDice1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(O.prototype,"sprDice2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(O.prototype,"sprDice3",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(O.prototype,"labelSumDices",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(O.prototype,"nodeTai",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(O.prototype,"nodeXiu",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=O))||G)||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.PopupHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./Config.ts","./Http.ts","./App.ts","./Utils.ts"],(function(e){var t,i,n,a,r,o,l,g,c,s,u,h,p,m,P,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,g=e.ScrollView,c=e.instantiate,s=e.Label,u=e.Color},function(e){h=e.default},function(e){p=e.default},function(e){m=e.default},function(e){P=e.default},function(e){f=e.Utils}],execute:function(){var d,y,C,v,b,D,x,N,B,L,I,w,H,T,z,A,M,F,G;r._RF.push({},"e7c25jo7VFDea3x2RuIa56p","TaiXiuLive.PopupHistory",void 0);var E=o.ccclass,_=o.property,S=o.menu;e("PopupHistory",(d=S("TaiXiuLiveJP/PopupHistory"),y=_(l),C=_(g),v=_(l),b=_(l),D=_(l),x=_(l),N=_(l),B=_(l),E(L=d((w=t((I=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"prefab",w,a(t)),n(t,"scroll",H,a(t)),t.isGold=!0,t.gameID=1,t.page=1,t.per_page=10,n(t,"prevPage",T,a(t)),n(t,"nextPage",z,a(t)),n(t,"containerPage",A,a(t)),n(t,"listPage",M,a(t)),n(t,"activePage",F,a(t)),n(t,"inactivePage",G,a(t)),t.maxPage=0,t.currentPage=1,t}i(t,e);var r=t.prototype;return r.dismiss=function(){e.prototype.dismiss.call(this),this.scroll.content.removeAllChildren()},r.show=function(){e.prototype.show.call(this),this.page=1,this.getMaxHistoryLog()},r.getMaxHistoryLog=function(){var e=this,t=p.App.DOMAIN_CONFIG.GetAccountHistoryLuckyDice,i={currencyID:p.Login.CurrencyID,gameID:this.gameID,betType:this.isGold?1:2,Page:this.currentPage,PageSize:200};this.listPage.removeAllChildren(),m.get(t,i,(function(t,i){i.c<0?P.instance.alertDialog.showMsg(P.instance.getTextLang("me"+i.c)):(e.maxPage=Math.ceil(i.d.length/e.per_page),e.containerPage.active=0!==e.maxPage,0!=e.maxPage&&(e.currentPage>e.maxPage&&(e.currentPage=e.maxPage),e.refreshPageList(),e.loadData()))}))},r.refreshPageList=function(){this.listPage.removeAllChildren();for(var e=Math.max(1,this.currentPage-2),t=Math.min(this.maxPage,this.currentPage+2),i=e;i<=t;i++){var n=this.createPageNode(i);this.listPage.addChild(n)}},r.createPageNode=function(e){var t=this,i=this.currentPage===e?this.activePage:this.inactivePage,n=c(i);return n.getComponentInChildren(s).string=e.toString(),n.on(l.EventType.TOUCH_END,(function(){t.currentPage=e,t.loadData()})),n},r.onChangeType=function(e,t){var i=e.node;1==t?(i.getChildByName("text").getComponent(s).color=(new u).fromHEX("#FFF000"),i.parent.getChildByName("xu").getChildByName("text").getComponent(s).color=(new u).fromHEX("#CDBEE4")):(i.getChildByName("text").getComponent(s).color=(new u).fromHEX("#FFF000"),i.parent.getChildByName("tipzo").getChildByName("text").getComponent(s).color=(new u).fromHEX("#CDBEE4")),!1!==e.isChecked&&(this.isGold=!this.isGold,this.page=1,this.scroll.content.removeAllChildren(),this.loadData())},r.onChangeGameID=function(e,t){this.gameID=t,this.page=1,this.currentPage=1,this.scroll.content.removeAllChildren(),!1!==e.isChecked&&this.getMaxHistoryLog()},r.loadData=function(){var e=this;P.instance.showLoading(!0),this.scroll.content.removeAllChildren();var t={currencyID:p.Login.CurrencyID,gameID:this.gameID,betType:this.isGold?1:2,Page:this.currentPage,PageSize:10};m.get(p.App.DOMAIN_CONFIG.GetAccountHistoryLuckyDice,t,(function(t,i){if(200===t){for(var n=i.d,a=e.page-1;a<n.length;a++){var r=c(e.prefab),o=r.getChildByName("bg1"),l=r.getChildByName("bg2");o&&l&&(o.active=a%2==0,l.active=a%2!=0),e.setItemData(r.getChildByName("content"),n[a]),r.active=!0,e.scroll.content.addChild(r)}if(1==e.currentPage&&(e.prevPage.active=!1),0==n.length)return void(e.currentPage>1&&e.currentPage--);e.prevPage.active=e.currentPage>1,e.nextPage.active=e.currentPage<e.maxPage,e.refreshPageList()}P.instance.showLoading(!1)}))},r.onPrevPage=function(){this.currentPage>1&&(this.currentPage--,this.loadData())},r.onNextPage=function(){this.currentPage<this.maxPage&&(this.currentPage++,this.loadData())},r.setItemData=function(e,t){e.getChildByName("lblSession").getComponent(s).string="#"+t.GameSessionID,e.getChildByName("lblTime").getComponent(s).string=f.formatDatetime(t.StartTime,"dd/MM/yyyy HH:mm:ss"),e.getChildByName("lblBetDoor").getComponent(s).string=1==t.LocationName?P.instance.getTextLang("tx44"):P.instance.getTextLang("tx43"),e.getChildByName("lblResult").getComponent(s).string=t.Result,e.getChildByName("lblBet").getComponent(s).string=f.formatNumber(t.TotalBetValue),e.getChildByName("lblRefund").getComponent(s).string=f.formatNumber(t.RefundValue),e.getChildByName("lblWin").getComponent(s).string=f.formatNumber(t.PrizeValue)},t}(h)).prototype,"prefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(I.prototype,"scroll",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(I.prototype,"prevPage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"nextPage",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(I.prototype,"containerPage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(I.prototype,"listPage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(I.prototype,"activePage",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(I.prototype,"inactivePage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=I))||L)||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.PopupHistoryJackpot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./App.ts","./Http.ts","./Config.ts","./Utils.ts"],(function(t){var e,i,n,o,a,s,r,l,c,u,p,g,h,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,l=t.Node,c=t.instantiate},function(t){u=t.default},function(t){p=t.default},function(t){g=t.default},function(t){h=t.default},function(t){m=t.Utils}],execute:function(){var f,b,d,D,y,S,L,k,v,x,I,T,C,w,J,N,A;a._RF.push({},"72353EKXEZOU5p5UbdPUXhm","TaiXiuLive.PopupHistoryJackpot",void 0);var P=s.ccclass,_=s.property,z=s.menu;t("PopupHistoryJackpot",(f=z("TaiXiuLiveJP/PopupHistoryJackpot"),b=_(r),d=_(r),D=_(r),y=_(l),S=_(l),L=_(l),k=_(r),P(v=f((I=e((x=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"lblSession",I,o(e)),n(e,"lblSessionDate",T,o(e)),n(e,"lblTotalAccounts",C,o(e)),n(e,"containerDetail",w,o(e)),n(e,"itemContainer",J,o(e)),n(e,"itemPrefab",N,o(e)),n(e,"lblTotalJackpotValue",A,o(e)),e.gameID=1,e.sessionList=[],e.currentSessionIndex=0,e}i(e,t);var a=e.prototype;return a.showDetail=function(t){this.gameID=t,this.show()},a.show=function(){t.prototype.show.call(this),this.itemPrefab.active=!1,this.lblTotalAccounts.string="0",this.lblSession.string=p.instance.getTextLang("txt_session")+"# 0",this.lblSessionDate.string="",this.containerDetail.active=!1,this.lblTotalJackpotValue.string=p.instance.getTextLang("txt_jackpot_prize_jackpot")+" 0",this.getDataSession()},a.getDataSession=function(){var t=this;p.instance.showLoading(!0),g.get(h.App.DOMAIN_CONFIG.LuckyDiceJackPotHistory,{gameID:this.gameID,topCount:50},(function(e,i){p.instance.showLoading(!1),i.c<0?p.instance.alertDialog.showMsg(p.instance.getTextLang("me"+i.c)):(t.sessionList=i.d,t.currentSessionIndex=0,t.populateSession())}))},a.populateSession=function(){if(this.sessionList&&0!==this.sessionList.length){this.containerDetail.active=!0;var t=this.sessionList[this.currentSessionIndex];this.lblSession.string=p.instance.getTextLang("txt_session")+"#"+t.GameSessionID,this.lblSessionDate.string=m.formatDatetime(t.FinishedTime,"HH:mm:ss"),this.lblTotalAccounts.string=t.TotalAccounts.toString(),this.containerDetail.getChildByName("tx-t").active=2===t.LocationJackpot,this.containerDetail.getChildByName("tx-x").active=1===t.LocationJackpot,this.lblTotalJackpotValue.string=p.instance.getTextLang("txt_jackpot_prize_jackpot")+" "+m.formatNumber(t.TotalJackpotAward),this.getJackpotAccount(t.GameSessionID)}},a.getJackpotAccount=function(t){var e=this;p.instance.showLoading(!0),this.itemContainer.removeAllChildren(),g.get(h.App.DOMAIN_CONFIG.LuckyDiceJackPotAccount,{gameID:this.gameID,GameSessionID:t},(function(t,i){p.instance.showLoading(!1),i.c<0?p.instance.alertDialog.showMsg(p.instance.getTextLang("me"+i.c)):i.d.forEach((function(t,i){var n=c(e.itemPrefab),o=n.getChildByName("bg1"),a=n.getChildByName("bg2"),s=n.getChildByName("content");o&&a&&(o.active=i%2==0,a.active=i%2!=0),s.getChildByName("account").getComponent(r).string=t.Nickname,s.getChildByName("bet").getComponent(r).string=m.formatNumber(t.BetValue),s.getChildByName("prize").getComponent(r).string=m.formatNumber(t.JackpotValue),n.active=!0,n.parent=e.itemContainer}))}))},a.nextSession=function(){this.currentSessionIndex=Math.max(this.currentSessionIndex-1,0),this.populateSession()},a.prevSession=function(){this.currentSessionIndex=Math.min(this.currentSessionIndex+1,this.sessionList.length-1),this.populateSession()},e}(u)).prototype,"lblSession",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(x.prototype,"lblSessionDate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(x.prototype,"lblTotalAccounts",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(x.prototype,"containerDetail",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(x.prototype,"itemContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(x.prototype,"itemPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(x.prototype,"lblTotalJackpotValue",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v)||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.PopupHonors.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./TaiXiuLiveJP.Controller.ts","./App.ts","./Config.ts","./Http.ts","./Utils.ts"],(function(t){var e,i,n,o,r,a,l,u,s,p,c,m,f,g,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,u=t.instantiate,s=t.Label},function(t){p=t.default},function(t){c=t.default},function(t){m=t.default},function(t){f=t.default},function(t){g=t.default},function(t){h=t.Utils}],execute:function(){var d,y,b,C,D,_,v,w,L,I,N,z,P;r._RF.push({},"fcce6uzY2hNp6j+cxjOKL9C","TaiXiuLive.PopupHonors",void 0);var T=a.ccclass,G=a.property,B=a.menu;t("PopupHonors",(d=B("TaiXiuLiveJP/PopupHonors"),y=G(l),b=G(l),C=G(l),D=G(l),_=G(l),T(v=d((L=e((w=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"item_top1",L,o(e)),n(e,"item_top2",I,o(e)),n(e,"item_top3",N,o(e)),n(e,"item",z,o(e)),n(e,"items",P,o(e)),e.isGold=!0,e.gameID=2,e.page=1,e.per_page=10,e}i(e,t);var r=e.prototype;return r.show=function(){t.prototype.show.call(this),this.gameID=c.instance.getCurrentGameID()},r.dismiss=function(){t.prototype.dismiss.call(this)},r._onShowed=function(){t.prototype._onShowed.call(this),this.loadData()},r.onChangeBetType=function(t){this.isGold=!this.isGold,this.page=1,!1!==t.isChecked&&this.loadData()},r.loadData=function(){var t=this;m.instance.showLoading(!0),this.items.removeAllChildren();var e={currencyID:f.Login.CurrencyID,gameID:this.gameID,betType:this.isGold?1:2,topCount:50};g.get(f.App.DOMAIN_CONFIG.GetTopDailyWinnersLuckyDice,e,(function(e,i){if(200===e)for(var n=i.d,o=0;o<n.length;o++){var r=u(t.item);0==o?r=u(t.item_top1):1==o?r=u(t.item_top2):2==o?r=u(t.item_top3):r.getChildByName("rank").getComponent(s).string=(o+1).toString(),r.getChildByName("label2").getComponent(s).string=n[o].Nickname,r.getChildByName("label3").getChildByName("text").getComponent(s).string=h.formatNumber(n[o].PrizeValue),t.items.addChild(r)}m.instance.showLoading(!1)}))},e}(p)).prototype,"item_top1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"item_top2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"item_top3",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"item",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"items",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLive.SoiCauJP.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaiXiuLiveJP.Controller.ts","./App.ts","./Config.ts","./Http.ts","./Utils.ts"],(function(e){var i,t,n,a,r,o,l,c,u,p,s,g,f,m,b,x,h,D,d,w,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,c=e.Label,u=e.SpriteFrame,p=e.instantiate,s=e.v3,g=e.Sprite,f=e.v2,m=e.UITransform,b=e.Color,x=e.Component},function(e){h=e.default},function(e){D=e.default},function(e){d=e.default},function(e){w=e.default},function(e){v=e.Utils}],execute:function(){var P,y,T,C,X,L,I,z,S,F,G,W,A,E,M,N,H,J,_,O,k,B,R,U,j,q,K,Q,V,Y,Z,$,ee,ie,te,ne,ae,re,oe,le,ce,ue,pe,se,ge,fe,me,be,xe,he,De,de,we;r._RF.push({},"3a766rR4tpJNqBcXuppszeT","TaiXiuLive.SoiCauJP",void 0);var ve=o.ccclass,Pe=o.property,ye=o.menu;e("TaiXiuLiveSoiCauJP",(P=ye("TaiXiuLiveJP/SoiCau"),y=Pe(l),T=Pe(l),C=Pe(l),X=Pe(l),L=Pe(l),I=Pe(l),z=Pe(l),S=Pe(l),F=Pe(l),G=Pe(l),W=Pe(l),A=Pe(l),E=Pe(l),M=Pe(c),N=Pe(c),H=Pe(l),J=Pe(l),_=Pe(u),O=Pe(u),k=Pe(c),B=Pe(c),R=Pe(l),U=Pe(l),j=Pe(l),q=Pe(l),ve(K=P((V=i((Q=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"lineTemplate",V,a(i)),n(i,"iconXX1Template",Y,a(i)),n(i,"iconXX2Template",Z,a(i)),n(i,"iconXX3Template",$,a(i)),n(i,"xx123TaiTemplate",ee,a(i)),n(i,"xx123XiuTemplate",ie,a(i)),n(i,"xx1Draw",te,a(i)),n(i,"xx2Draw",ne,a(i)),n(i,"xx3Draw",ae,a(i)),n(i,"xx123Draw",re,a(i)),n(i,"containerPage1",oe,a(i)),n(i,"iconTaiPage1",le,a(i)),n(i,"iconXiuPage1",ce,a(i)),n(i,"lblTaiPage1",ue,a(i)),n(i,"lblXiuPage1",pe,a(i)),n(i,"containerPage2",se,a(i)),n(i,"iconPage2",ge,a(i)),n(i,"sprFrameTai",fe,a(i)),n(i,"sprFrameXiu",me,a(i)),n(i,"lblTaiPage2",be,a(i)),n(i,"lblXiuPage2",xe,a(i)),n(i,"containerCenterPage2",he,a(i)),n(i,"itemCenterPage2",De,a(i)),n(i,"container1",de,a(i)),n(i,"container2",we,a(i)),i.gameID=0,i.isMd5=!1,i}t(i,e);var r=i.prototype;return r.start=function(){var e=this;h.instance?this.gameID=h.instance.getCurrentGameID():(this.isMd5=!0,this.gameID=123),this.loadData(),this.scheduleOnce((function(){e.loadData()}),60)},r.onEnable=function(){0!=this.gameID&&this.loadData()},r.toggleContainer=function(e){!1!==e.isChecked&&(this.container1.active=!this.container1.active,this.container2.active=!this.container2.active)},r.loadData=function(){var e=this;D.instance.showLoading(!0);var i=d.App.DOMAIN_CONFIG.GetStatisticalLuckyDice+"?GameID="+this.gameID;this.isMd5&&(i=d.App.DOMAIN_CONFIG.LuckyDiceMd5GetStatistical),w.post(i,{},(function(i,t){200===i&&(e.drawG88Page1(t.d.Type1||t.d.type1,t.d.Type1Location1||t.d.type1Location1,t.d.Type1Location2||t.d.type1Location2),e.drawG88Page2(t.d.Type2||t.d.type2,t.d.Type2Location1||t.d.type2Location1,t.d.Type2Location2||t.d.type2Location2),D.instance.showLoading(!1))}))},r.drawG88Page1=function(e,i,t){var n=this;this.containerPage1.removeAllChildren();this.lblXiuPage1.string=D.instance.getTextLang("tx44")+": "+(null!=i?i:0),this.lblTaiPage1.string=D.instance.getTextLang("tx43")+": "+(null!=t?t:0);for(var a=[],r=0;r<e.length;r++)(e[r].DiceSum||e[r].diceSum)>0&&a.push(e[r]);this.drawG88Page3(a),this.drawG88Page4(a);var o=0,l=0,u=0,g=a.length>0?a[0].LocationIDWin||a[0].locationIDWin:null;a.forEach((function(e){var i=p(1===(e.LocationIDWin||e.locationIDWin)?n.iconXiuPage1:n.iconTaiPage1);(e.LocationIDWin||e.locationIDWin)!==g&&(0!=u&&o++,l=o,u=0,g=e.LocationIDWin||e.locationIDWin);var t=(o-l)%2==0?u:5-u;i.setPosition(s(15+29*o,-29*t-15)),i.getChildByName("text").getComponent(c).string=e.DiceSum||e.diceSum,n.containerPage1.addChild(i),6==++u&&(o++,u=0)}))},r.drawG88Page2=function(e,i,t){var n=this;this.containerPage2.removeAllChildren();this.lblXiuPage2.string=D.instance.getTextLang("tx44")+": "+(null!=i?i:0),this.lblTaiPage2.string=D.instance.getTextLang("tx43")+": "+(null!=t?t:0);for(var a=[],r=0;r<e.length;r++)(e[r].DiceSum||e[r].diceSum)>0&&a.push(e[r]);var o=a.length>19?a.slice(a.length-19):a;this.containerCenterPage2.removeAllChildren(),o.forEach((function(e){var i=p(n.itemCenterPage2);1===(e.LocationIDWin||e.locationIDWin)?i.getComponent(g).spriteFrame=n.sprFrameXiu:i.getComponent(g).spriteFrame=n.sprFrameTai,n.containerCenterPage2.addChild(i)})),(a=a.length>96?a.slice(a.length-96):a).forEach((function(e,i){var t,a=p(n.iconPage2),r=Math.floor(i/6);t=r%2==0?i%6:5-i%6,a.setPosition(s(25+34*r,-30*t-20)),1===(e.LocationIDWin||e.locationIDWin)?a.getComponent(g).spriteFrame=n.sprFrameXiu:a.getComponent(g).spriteFrame=n.sprFrameTai,n.containerPage2.addChild(a)}))},r.drawG88Page3=function(e){var i=this;if(e.length>19&&e.splice(0,e.length-19),0!==e.length){this.xx123Draw.removeAllChildren(),e.forEach((function(t,n){var a,r=f(20.5+29*n,19.5+((t.DiceSum||t.diceSum)-3)*(29/3));if((a=1===(t.LocationIDWin||t.locationIDWin)?p(i.xx123XiuTemplate):p(i.xx123TaiTemplate)).active=!0,a.parent=i.xx123Draw,a.setPosition(s(r.x,r.y,0)),n!==e.length-1){var o=e[n+1],l=f(20.5+29*(n+1),19.5+((o.DiceSum||o.diceSum)-3)*(29/3)),c=p(i.lineTemplate);c.parent=i.xx123Draw,c.getComponent(m).width=v.v2Distance(r,l),c.setPosition(s(r.x,r.y,0)),c.angle=v.v2Degrees(r,l),c.getComponent(g).color=(new b).fromHEX("#ff5400"),c.setSiblingIndex(-50)}}))}},r.drawG88Page4=function(e){var i=this,t=20.5,n=19.5;if(this.xx1Draw.removeAllChildren(),this.xx2Draw.removeAllChildren(),this.xx3Draw.removeAllChildren(),e.length>19&&e.splice(0,e.length-19),0!==e.length){var a=29,r=29;e.forEach((function(o,l){var c=f(t+l*a,n+((o.Dice1||o.dice1)-1)*r),u=f(t+l*a,n+((o.Dice2||o.dice2)-1)*r),x=f(t+l*a,n+((o.Dice3||o.dice3)-1)*r),h=p(i.iconXX1Template);h.parent=i.xx1Draw,h.setPosition(s(c.x,c.y));var D=p(i.iconXX2Template);D.parent=i.xx2Draw,D.setPosition(s(u.x,u.y));var d=p(i.iconXX3Template);if(d.parent=i.xx3Draw,d.setPosition(s(x.x,x.y)),l!==e.length-1){var w=e[l+1],P=f(t+(l+1)*a,n+((w.Dice1||w.dice1)-1)*r),y=f(t+(l+1)*a,n+((w.Dice2||w.dice2)-1)*r),T=f(t+(l+1)*a,n+((w.Dice3||w.dice3)-1)*r),C=p(i.lineTemplate);C.parent=i.xx1Draw,C.getComponent(m).width=v.v2Distance(c,P),C.setPosition(s(c.x,c.y,0)),C.angle=v.v2Degrees(c,P),C.getComponent(g).color=(new b).fromHEX("#f0ff00"),C.setSiblingIndex(0),(C=p(i.lineTemplate)).parent=i.xx2Draw,C.getComponent(m).width=v.v2Distance(u,y),C.setPosition(s(u.x,u.y,0)),C.angle=v.v2Degrees(u,y),C.getComponent(g).color=(new b).fromHEX("#ff0096"),C.setSiblingIndex(0),(C=p(i.lineTemplate)).parent=i.xx3Draw,C.getComponent(m).width=v.v2Distance(x,T),C.setPosition(s(x.x,x.y)),C.angle=v.v2Degrees(x,T),C.getComponent(g).color=(new b).fromHEX("#00f0ff"),C.setSiblingIndex(0)}}))}},r.toggleLinePage4=function(e,i){1==i&&(this.xx1Draw.active=!this.xx1Draw.active),2==i&&(this.xx2Draw.active=!this.xx2Draw.active),3==i&&(this.xx3Draw.active=!this.xx3Draw.active),0==i&&(this.xx123Draw.active=!this.xx123Draw.active)},i}(x)).prototype,"lineTemplate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(Q.prototype,"iconXX1Template",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(Q.prototype,"iconXX2Template",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Q.prototype,"iconXX3Template",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(Q.prototype,"xx123TaiTemplate",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(Q.prototype,"xx123XiuTemplate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(Q.prototype,"xx1Draw",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(Q.prototype,"xx2Draw",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(Q.prototype,"xx3Draw",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(Q.prototype,"xx123Draw",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(Q.prototype,"containerPage1",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(Q.prototype,"iconTaiPage1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(Q.prototype,"iconXiuPage1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(Q.prototype,"lblTaiPage1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(Q.prototype,"lblXiuPage1",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(Q.prototype,"containerPage2",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(Q.prototype,"iconPage2",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(Q.prototype,"sprFrameTai",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(Q.prototype,"sprFrameXiu",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(Q.prototype,"lblTaiPage2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(Q.prototype,"lblXiuPage2",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(Q.prototype,"containerCenterPage2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=i(Q.prototype,"itemCenterPage2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(Q.prototype,"container1",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(Q.prototype,"container2",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Q))||K)||K));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLiveJP.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Utils.ts","./App.ts","./Http.ts","./MiniGameTX1SignalRClient.ts","./MiniGameTX3SignalRClient.ts","./ChatHubSignalRClient.ts","./MiniGameTX2SignalRClient.ts","./BroadcastListener.ts","./ButtonMiniGame.ts"],(function(e){var t,i,n,a,o,r,l,u,s,c,p,h,b,g,m,f,d,v,B,T,y,w,D,C,I,L,S,N,x,z,P,R,G,W,X;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,l=e._decorator,u=e.Sprite,s=e.Label,c=e.Node,p=e.Prefab,h=e.SpriteFrame,b=e.Button,g=e.WebView,m=e.EditBox,f=e.ToggleContainer,d=e.v2,v=e.Vec2,B=e.instantiate,T=e.Animation,y=e.v3,w=e.tween,D=e.UIOpacity,C=e.Tween,I=e.Component},function(e){L=e.default},function(e){S=e.Utils},function(e){N=e.default},function(e){x=e.default},function(e){z=e.default},function(e){P=e.default},function(e){R=e.default},function(e){G=e.default},function(e){W=e.BroadcastReceiver},function(e){X=e.default}],execute:function(){var k,E,H,J,A,_,F,M,O,U,V,j,K,q,Q,Y,Z,$,ee,te,ie,ne,ae,oe,re,le,ue,se,ce,pe,he,be,ge,me,fe,de,ve,Be,Te,ye,we,De,Ce,Ie,Le,Se,Ne,xe,ze,Pe,Re,Ge,We,Xe,ke,Ee,He,Je,Ae,_e,Fe,Me,Oe,Ue,Ve,je,Ke,qe,Qe,Ye,Ze,$e,et,tt,it,nt,at,ot,rt,lt,ut,st,ct,pt,ht,bt,gt,mt,ft,dt,vt,Bt,Tt,yt,wt,Dt,Ct,It,Lt,St,Nt,xt,zt,Pt,Rt,Gt,Wt,Xt,kt,Et,Ht,Jt,At,_t,Ft,Mt,Ot,Ut,Vt,jt,Kt,qt;r._RF.push({},"a0273AJAfRHworQvwCmq1vR","TaiXiuLiveJP.Controller",void 0);var Qt=l.ccclass,Yt=l.property,Zt=l.menu;e("default",(k=Zt("TaiXiuLiveJP/Controller"),E=Yt(u),H=Yt(s),J=Yt(s),A=Yt(c),_=Yt(c),F=Yt(c),M=Yt(c),O=Yt(p),U=Yt(p),V=Yt(p),j=Yt(p),K=Yt(p),q=Yt(p),Q=Yt(p),Y=Yt(c),Z=Yt(c),$=Yt(c),ee=Yt(h),te=Yt(h),ie=Yt(s),ne=Yt(c),ae=Yt(s),oe=Yt(s),re=Yt(s),le=Yt(s),ue=Yt(s),se=Yt(s),ce=Yt(s),pe=Yt(s),he=Yt(s),be=Yt(c),ge=Yt([h]),me=Yt(c),fe=Yt(c),de=Yt(c),ve=Yt(c),Be=Yt(c),Te=Yt(b),ye=Yt(s),we=Yt(c),De=Yt(c),Ce=Yt(c),Ie=Yt(c),Le=Yt(c),Se=Yt(c),Ne=Yt(c),xe=Yt(g),ze=Yt(c),Pe=Yt(g),Re=Yt(m),Ge=Yt(m),We=Yt(c),Xe=Yt(c),ke=Yt(f),Ee=Yt(s),He=Yt(c),Je=Yt(c),Ae=Yt(c),_e=Yt(c),Qt(Fe=k(((qt=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"avatar",Oe,a(t)),n(t,"labelBalance",Ue,a(t)),n(t,"labelNickname",Ve,a(t)),t.isBetTypeGold=!0,n(t,"chatBox",je,a(t)),n(t,"settingBox",Ke,a(t)),n(t,"statisticalBox",qe,a(t)),n(t,"popupContainer",Qe,a(t)),n(t,"popupEventTienTriPrefab",Ye,a(t)),n(t,"popupEventSHPrefab",Ze,a(t)),n(t,"popupEventJackpotPrefab",$e,a(t)),n(t,"popupGuidePrefab",et,a(t)),n(t,"popupHistoryPrefab",tt,a(t)),n(t,"popupEventHonorPrefab",it,a(t)),n(t,"popupDetailSessionPrefab",nt,a(t)),t.popupEventTienTri=null,t.popupEventSH=null,t.popupEventJackpot=null,t.popupHonor=null,t.popupHistory=null,t.popupGuide=null,t.popupDetailSession=null,t.currentGameIds=[1,2,3],t.nameTX=["HK","LVG","MC"],n(t,"leftContainer",at,a(t)),n(t,"rightContainer",ot,a(t)),n(t,"centerLabels",rt,a(t)),n(t,"sprFrameTai",lt,a(t)),n(t,"sprFrameXiu",ut,a(t)),n(t,"lblSession",st,a(t)),n(t,"containerTimer",ct,a(t)),n(t,"lblRemainTime",pt,a(t)),n(t,"lblRemainWaiting",ht,a(t)),n(t,"lblSumDices",bt,a(t)),n(t,"lblTotalBetTaiCurrent",gt,a(t)),n(t,"lblTotalBetXiuCurrent",mt,a(t)),n(t,"lblBetTai",ft,a(t)),n(t,"lblBetXiu",dt,a(t)),n(t,"lblUserTai",vt,a(t)),n(t,"lblUserXiu",Bt,a(t)),n(t,"dicesContainer",Tt,a(t)),n(t,"listSprDice",yt,a(t)),n(t,"gateTaiWin",wt,a(t)),n(t,"nodeTaiWin",Dt,a(t)),n(t,"gateXiuWin",Ct,a(t)),n(t,"nodeXiuWin",It,a(t)),n(t,"bowl",Lt,a(t)),n(t,"buttonNan",St,a(t)),n(t,"lblToast",Nt,a(t)),n(t,"historyList",xt,a(t)),n(t,"historyItem",zt,a(t)),t.detailSessions=[],n(t,"nodeWheelSpin",Pt,a(t)),n(t,"nodeJackPot",Rt,a(t)),n(t,"lblJackPot",Gt,a(t)),n(t,"wheelNode",Wt,a(t)),n(t,"liveNode",Xt,a(t)),n(t,"webView",kt,a(t)),n(t,"liveNodeMini",Et,a(t)),n(t,"webViewMini",Ht,a(t)),t.streamURL="",t.isCoinGold=!0,t.lastBetAmount=0,t.isBetting=!1,t.isNan=!1,t.lastLocationIDWin=0,t.lastScore=0,t.bowlStartPos=d(0,25),n(t,"editBoxBetTai",Jt,a(t)),n(t,"editBoxBetXiu",At,a(t)),n(t,"confirmBetButton",_t,a(t)),n(t,"cancelBetButton",Ft,a(t)),n(t,"chipToggleContainer",Mt,a(t)),t.gameID=void 0,t.hub=null,t.betTypeLocation=0,t.selectedChipValue=0,n(t,"labelJackpotBalance",Ot,a(t)),n(t,"winTextTaiNode",Ut,a(t)),n(t,"winTextXiuNode",Vt,a(t)),n(t,"layoutBetChip",jt,a(t)),n(t,"layoutBetNumber",Kt,a(t)),t.countdownRemainTime=null,t.countdownWaitingTime=null,t.isOpenBowl=!1,t.isShowWheel=!1,t.jackpotInfo=null,t.STREAM_TEMPLATE="https://demo.nanocosmos.de/nanoplayer/embed/1.3.3/nanoplayer.html?group.id=STREAM_ID&group.security.jwtoken=JWT_TOKEN",t.currentStreamID=-1,t}i(t,e);var r=t.prototype;return r.onEnable=function(){t.instance=this},r.start=function(){var e=this;this.settingBox.active=!1,this.statisticalBox.active=!1,this.chatBox.active=!1,this.labelNickname.string=L.Login.Nickname,this.labelBalance.string=S.formatNumber(L.Login.GoldBalance),this.avatar.spriteFrame=N.instance.getAvatarSpriteFrame(L.Login.Avatar),this.gameID=this.getCurrentGameID(),this.changeServer(),this.bowl.on(c.EventType.TOUCH_MOVE,(function(t){var i=e.bowl.getPosition();i.x+=t.getDeltaX(),i.y+=t.getDeltaY(),e.bowl.position=i;var n=S.v2Distance(new v(i.x,i.y),e.bowlStartPos);Math.abs(n)>200&&(e.showResult(),e.isOpenBowl=!0,e.scheduleOnce((function(){e.bowl.active=!1}),2))}),this),this.bowl.active=!1},r.getStreamURL=function(){var e=this;x.get("https://gameapi-alpha.bavenoth.com/api/v1/global/livestreaminfo",{gameId:117},(function(t,i){if(!(i.c<0||200!==t)){var n=i.d.find((function(t){return 117===t.gameID&&t.roomID===e.getCurrentGameID()}));n&&n.streamID&&n.tokenPlayBack?e.currentStreamID!==n.streamID&&(e.currentStreamID=n.streamID,e.streamURL=e.STREAM_TEMPLATE.replace("STREAM_ID",n.streamID).replace("JWT_TOKEN",n.tokenPlayBack)):e.streamURL=""}}))},r.update=function(e){if(""===this.streamURL)return this.liveNode.active=!1,void(this.liveNodeMini.active=!1);this.webView.url!==this.streamURL&&(this.webView.url=this.streamURL,this.webViewMini.url=this.streamURL);for(var t,i=!0,n=!1,a=o(this.popupContainer.children);!(t=a()).done;){if(t.value.active){i=!1;break}}if(i)for(var r,l=o(N.instance.miniGameNode.children);!(r=l()).done;){if(r.value.active){i=!1,n=!0;break}}for(var u,s=o(N.instance.tipzoJackpotEventX2X6Node.children);!(u=s()).done;){if(u.value.active){i=!1;break}}if(X.instance.panel.active&&(i=!1),this.liveNode.active=i,n){if(0==N.instance.tipzoMiniLiveNode.children.length){var c=B(this.liveNodeMini);c.active=!0,N.instance.tipzoMiniLiveNode.addChild(c)}}else N.instance.tipzoMiniLiveNode.removeAllChildren()},r.onDestroy=function(){z.getInstance().dontReceive(),G.getInstance().dontReceive(),P.getInstance().dontReceive(),R.getInstance().dontReceive(),N.instance.tipzoMiniLiveNode.removeAllChildren(),S.setStorageValue("last_open_game_id","")},r.leaveRoom=function(){t.instance=null,this.node.destroy()},r.getCurrentGameID=function(){return this.currentGameIds[0]},r.changeServer=function(){this.hub&&this.hub.send("HideLD",[{GameID:this.gameID}],(function(){})),this.resetForNew(),this.unscheduleAllCallbacks(),this.getStreamURL(),this.gameID=this.getCurrentGameID(),1==this.gameID?this.hub=z.getInstance():2==this.gameID?this.hub=G.getInstance():3==this.gameID&&(this.hub=P.getInstance()),this.hub.send("GetCurrentRoomsLD",[{GameID:this.gameID,CurrencyID:L.Login.CurrencyID,BetType:this.isBetTypeGold?1:2}],(function(e){})),this.initHubs()},r.onClickLeft=function(){var e=this;this.currentGameIds=[this.currentGameIds[1],this.currentGameIds[0],this.currentGameIds[2]];var t=this.currentGameIds[1],i=this.currentGameIds[0];this.nameTX.forEach((function(n,a){e.leftContainer.getChildByName(n).active=a===t-1,e.centerLabels.getChildByName(n).active=a===i-1})),this.changeServer()},r.onClickRight=function(){var e=this;this.currentGameIds=[this.currentGameIds[2],this.currentGameIds[1],this.currentGameIds[0]];var t=this.currentGameIds[2],i=this.currentGameIds[0];this.nameTX.forEach((function(n,a){e.rightContainer.getChildByName(n).active=a===t-1,e.centerLabels.getChildByName(n).active=a===i-1})),this.changeServer()},r.getLuckyDiceJackPot=function(){var e=this;this.labelJackpotBalance.string="0",x.get(L.App.DOMAIN_CONFIG.LuckyDiceJackPot,{gameID:this.gameID},(function(t,i){i.c<0||(e.labelJackpotBalance.string=S.formatNumber(i.d))}))},r.initHubs=function(){var e=this;this.getLuckyDiceJackPot(),this.hub.receive("currentSessionLD",(function(t){t.GameID===e.gameID&&(e.lblSession.string="#"+t.GameSessionID,e.unschedule(e.countdownRemainTime),e.unschedule(e.countdownWaitingTime),e.confirmBetButton.active=!1,e.cancelBetButton.active=!1,1===t.GameStatus?(e.getStreamURL(),e.handleBettingPhase(t.RemainBetting)):(e.handleWaitingPhase(t.RemainWaiting),e.hub.send("GetAccountResultLD",[{GameID:e.gameID,CurrencyID:L.Login.CurrencyID,GameSessionID:t.GameSessionID}],(function(){}))))})),this.hub.receive("currentResultLD",(function(t){if(t.GameID==e.gameID){e.confirmBetButton.active=!1,e.cancelBetButton.active=!1,e.editBoxBetTai.enabled=!1,e.editBoxBetXiu.enabled=!1,e.buttonNan.enabled=!1;var i=e.dicesContainer.getChildByName("anim"),n=e.dicesContainer.getChildByName("result");n.active=!1,i.active=!0;var a=n.getChildByName("dice_1"),o=n.getChildByName("dice_2"),r=n.getChildByName("dice_3");a.getComponent(u).spriteFrame=e.listSprDice[t.Dice1-1],o.getComponent(u).spriteFrame=e.listSprDice[t.Dice2-1],r.getComponent(u).spriteFrame=e.listSprDice[t.Dice3-1],e.isShowWheel=1==t.Dice1&&1==t.Dice2&&1==t.Dice3||6==t.Dice1&&6==t.Dice2&&6==t.Dice3,e.jackpotInfo=t.JackPotInfo||null,e.dicesContainer.active=!0;var l=i.getChildByName("animDice1").getComponent(T),s=i.getChildByName("animDice2").getComponent(T),c=i.getChildByName("animDice3").getComponent(T);l.play(),s.play(),c.play(),e.scheduleOnce((function(){l.stop(),s.stop(),c.stop(),i.active=!1,e.lastLocationIDWin=t.LocationIDWin,e.lastScore=t.Dice1+t.Dice2+t.Dice3,e.isNan?(e.bowl.setPosition(y(e.bowlStartPos.x,e.bowlStartPos.y,0)),e.bowl.active=!0,e.scheduleOnce((function(){e.isOpenBowl||(e.isOpenBowl=!0,w(e.bowl).to(.5,{position:y(250,150,0)}).call((function(){e.showResult(),e.scheduleOnce((function(){e.bowl.active=!1}),2)})).start())}),12)):e.showResult(),n.active=!0}),3)}})),this.hub.receive("currentRoomsInfoLD",(function(t){for(var i,n=o(t);!(i=n()).done;){var a=i.value;if(null!=a&&a.GameID===e.gameID){var r=1===a.BetType,l=2===a.BetType;e.isCoinGold&&l||!e.isCoinGold&&r||(e.lblUserXiu.string="("+S.formatNumber(a.TotalAccount1)+")",e.lblUserTai.string="("+S.formatNumber(a.TotalAccount2)+")",e.lblTotalBetXiuCurrent.string=S.formatNumber(a.TotalBetValue1),e.lblTotalBetTaiCurrent.string=S.formatNumber(a.TotalBetValue2))}}})),this.hub.receive("gameHistoryLD",(function(t){if(null!=t&&0!=t.length){e.detailSessions=[],e.historyList.removeAllChildren();for(var i=function(i){e.detailSessions.push(t[i]);var n=B(e.historyItem);n.getComponent(u).spriteFrame=1==t[i].LocationIDWin?e.sprFrameXiu:e.sprFrameTai,n.getChildByName("last").active=0===i,n.on(c.EventType.TOUCH_END,(function(){e.actPopupDetailSession(t[i].GameSessionID)})),0===i&&(C.stopAllByTarget(n),e.scheduleOnce((function(){var e=y(n.position.x,5,n.position.z),t=y(n.position.x,-5,n.position.z);w(n).repeatForever(w().to(.3,{position:e}).to(.3,{position:t})).start()}),0)),e.historyList.addChild(n)},n=t.length-1;n>=0;n--)i(n)}})),this.hub.receive("betOfAccountLD",(function(t){t.forEach((function(t){t.GameID==e.gameID&&(e.editBoxBetTai.string="",e.editBoxBetXiu.string="",1==t.BetType&&((1==t.LocationID?e.lblBetXiu:e.lblBetTai).string=S.formatNumber(t.BetValue)))}))})),this.hub.receive("resultOfAccountLD",(function(t){if(0!==e.betTypeLocation){var i=0;t.forEach((function(t){t.GameID===e.gameID&&t.PrizeValue>0&&(i+=t.PrizeValue)}));var n=1===e.betTypeLocation?e.winTextXiuNode:e.winTextTaiNode;i<=0?n.active=!1:(n.active=!0,n.getComponentInChildren(s).string="+ "+S.formatNumber(i),n.position=y(n.x,-60),w(n).to(3,{position:y(n.x,60)}).call((function(){n.active=!1})).start(),e.updateBalanceTaiXiu())}}))},r.resetForNew=function(){this.getLuckyDiceJackPot(),this.dicesContainer.active=!1,this.isOpenBowl=!1,this.lblBetTai.string="0",this.lblBetXiu.string="0",this.betTypeLocation=0,this.lastScore=0,this.lblSumDices.string="",this.lblRemainTime.string="",this.confirmBetButton.active=!1,this.cancelBetButton.active=!1,this.bowl.active=!1,this.clearChipToggle(),this.hideResult(),this.actCancelBet()},r.handleBettingPhase=function(e){var t=this;this.containerTimer.active=!0,60===e&&(this.showToast(N.instance.getTextLang("txt_taixiu_new_session")),this.resetForNew()),e<3&&(this.isBetting=!1),this.isBetting=!0,this.editBoxBetTai.enabled=!0,this.editBoxBetXiu.enabled=!0,this.buttonNan.enabled=!0,this.lblRemainWaiting.node.parent.active=!1,this.lblRemainWaiting.node.active=!1;var i=e;this.unschedule(this.countdownRemainTime),this.schedule(this.countdownRemainTime=function(){try{if(i<0)return void t.unschedule(t.countdownRemainTime);i<=5&&(t.isBetting=!1),t.lblRemainTime.string=i<10?"0"+i:""+i,i--}catch(e){t.unschedule(t.countdownRemainTime)}},1)},r.handleWaitingPhase=function(e){var t=this;e>0&&(this.isBetting=!1),e<19&&this.hub.send("GetCurrentResultLD",[{GameID:this.gameID}],(function(){})),this.containerTimer.active=!1,this.lblRemainWaiting.node.parent.active=!1;var i=e;this.unschedule(this.countdownWaitingTime),this.schedule(this.countdownWaitingTime=function(){try{if(i<0)return void t.unschedule(t.countdownWaitingTime);if(t.isNan&&!1===t.isOpenBowl&&i>15){var e=i-15;t.lblRemainWaiting.string=""+(e<10?"0"+e:e),t.lblRemainWaiting.node.active=!0,t.lblRemainWaiting.node.parent.active=!0,t.lblSumDices.node.active=!1}else t.lblSumDices.node.active=i>12,t.lblRemainWaiting.node.active=i<=12,t.lblRemainWaiting.string=""+(i<10?"0"+i:i);i--}catch(e){t.unschedule(t.countdownWaitingTime)}},1)},r.actBet=function(){var e=this;if(!this.isBetting)return this.showToast(N.instance.getTextLang("me-207")),void this.actCancelBet();if(0!=this.betTypeLocation){var t=1==this.betTypeLocation?this.editBoxBetXiu.string:this.editBoxBetTai.string;parseInt(t)<=0?this.showToast(N.instance.getTextLang("txt_taixiu_enter_bet_value")):this.hub.send("SetBetLD",[{GameID:this.gameID,CurrencyID:L.Login.CurrencyID,BetType:this.isCoinGold?1:2,Location:this.betTypeLocation,Amount:parseInt(t)}],(function(i){if(i<0)return e.showToast(N.instance.getTextLang("me"+i)),void e.actCancelBet();e.showToast(N.instance.getTextLang("tx3_live").replace("{0}",1===e.betTypeLocation?N.instance.getTextLang("tx44"):N.instance.getTextLang("tx43"))),e.lastBetAmount=parseInt(t),e.editBoxBetTai.string="",e.editBoxBetXiu.string="",e.gateXiuWin.active=!1,e.gateTaiWin.active=!1,e.clearChipToggle(),e.updateBalanceTaiXiu()}))}},r.x2Bet=function(){var e=this.lastBetAmount,t=parseInt(this.editBoxBetXiu.string)||0,i=parseInt(this.editBoxBetTai.string)||0;!this.isBetting||0==e&&0==i&&0==t||(1==this.betTypeLocation?this.editBoxBetXiu.string=t>0?(2*t).toString():(2*e).toString():2==this.betTypeLocation&&(this.editBoxBetTai.string=i>0?(2*i).toString():(2*e).toString()),this.confirmBetButton.active=!0,this.cancelBetButton.active=!0)},r.updateBalanceTaiXiu=function(){W.send(W.USER_UPDATE_COIN),this.labelBalance.string=S.formatNumber(L.Login.GoldBalance)},r.updateCurrentBetType=function(e,t){this.isBetting&&(this.betTypeLocation=parseInt(t),this.gateXiuWin.active="1"==t,this.gateTaiWin.active="2"==t,this.confirmBetButton.active=!0,this.cancelBetButton.active=!0)},r.selectedChip=function(e,t){this.isBetting&&(0!=this.betTypeLocation?1==this.betTypeLocation?this.editBoxBetXiu.string=t.toString():2==this.betTypeLocation&&(this.editBoxBetTai.string=t.toString()):this.clearChipToggle())},r.clearChipToggle=function(){for(var e=0;e<this.chipToggleContainer.toggleItems.length;e++)this.chipToggleContainer.toggleItems[e].isChecked=!1},r.actConfirmBet=function(){this.actBet(),this.confirmBetButton.active=!1,this.cancelBetButton.active=!1},r.actCancelBet=function(){this.editBoxBetTai.string="",this.editBoxBetXiu.string=""},r.showResult=function(){var e,t=this;if(this.hideResult(),1===this.lastLocationIDWin)e=this.nodeXiuWin,this.gateXiuWin.active=!0,this.gateTaiWin.active=!1,this.nodeTaiWin.active=!1;else{if(2!==this.lastLocationIDWin)return;e=this.nodeTaiWin,this.gateTaiWin.active=!0,this.gateXiuWin.active=!1,this.nodeXiuWin.active=!1}e.active=!0;var i=e.getComponent(D);w(i).repeatForever(w().to(.2,{opacity:100}).to(.2,{opacity:255})).start(),this.lblRemainWaiting.node.parent.active=!0,this.lblRemainWaiting.node.active=!1,this.lblSumDices.string=this.lastScore.toString(),this.isShowWheel&&this.scheduleOnce((function(){t.nodeWheelSpin.active=!0,t.handleJackpotFund(t.jackpotInfo?t.jackpotInfo.JackpotLocationID:0),t.scheduleOnce((function(){t.nodeJackPot.active=!1,t.nodeWheelSpin.active=!1}),12)}),3)},r.hideResult=function(){C.stopAllByTarget(this.nodeTaiWin),C.stopAllByTarget(this.nodeXiuWin),C.stopAllByTarget(this.wheelNode),this.nodeTaiWin.active=!1,this.nodeXiuWin.active=!1,this.gateTaiWin.active=!1,this.gateXiuWin.active=!1,this.lblRemainWaiting.node.parent.active=!1,this.nodeJackPot.active=!1,this.nodeWheelSpin.active=!1},r.handleJackpotFund=function(e){var t=this,i=0;1===e?i=120:2===e&&(i=240),C.stopAllByTarget(this.wheelNode),this.wheelNode.angle=this.wheelNode.angle%360;var n=2880+i;w(this.wheelNode).to(4,{angle:-n},{easing:"quartOut"}).call((function(){0!==t.betTypeLocation&&t.betTypeLocation===e&&(t.nodeJackPot.active=!0,t.lblJackPot.getComponent(s).string=S.formatNumber(t.jackpotInfo.JackpotFund))})).start()},r.toggleLayoutBet=function(e){var t=e.target,i=t.getChildByName("text"),n=t.getChildByName("betFast");this.layoutBetChip.active=!this.layoutBetChip.active,this.layoutBetNumber.active=!this.layoutBetNumber.active,n.active=!this.layoutBetChip.active,i.active=!this.layoutBetNumber.active},r.updateBetAmountCustom=function(e,t){1==this.betTypeLocation?this.editBoxBetXiu.string+=t:2==this.betTypeLocation&&(this.editBoxBetTai.string+=t)},r.deleteBetAmount=function(){1==this.betTypeLocation?this.editBoxBetXiu.string=this.editBoxBetXiu.string.slice(0,-1):2==this.betTypeLocation&&(this.editBoxBetTai.string=this.editBoxBetTai.string.slice(0,-1))},r.toggleNan=function(e){var t=e.target,i=t.getChildByName("on"),n=t.getChildByName("off");i.active=!i.active,n.active=!n.active,this.isNan=!this.isNan},r.toggleChatBox=function(){this.chatBox.active=!this.chatBox.active},r.toggleSettingBox=function(){this.settingBox.active=!this.settingBox.active},r.toggleStatisticalBox=function(){this.statisticalBox.active=!this.statisticalBox.active},r.actPopupEventTienTri=function(){var e=this.getCurrentGameID();null==this.popupEventTienTri?(this.popupEventTienTri=B(this.popupEventTienTriPrefab).getComponent("TaiXiuLive.EventTienTri"),this.popupEventTienTri.node.parent=this.popupContainer,this.popupEventTienTri.showDetail(e),N.instance.showLoading(!1)):this.popupEventTienTri.showDetail(e)},r.actPopupDetailSession=function(e){null==this.popupDetailSession?(this.popupDetailSession=B(this.popupDetailSessionPrefab).getComponent("TaiXiuLive.PopupDetailSession"),this.popupDetailSession.node.parent=this.popupContainer,this.popupDetailSession.showDetail(e,this.getCurrentGameID(),this.detailSessions),N.instance.showLoading(!1)):this.popupDetailSession.showDetail(e,this.getCurrentGameID(),this.detailSessions)},r.actPopupEventSH=function(){var e=this.getCurrentGameID();null==this.popupEventSH?(this.popupEventSH=B(this.popupEventSHPrefab).getComponent("TaiXiuLive.EventSH"),this.popupEventSH.node.parent=this.popupContainer,this.popupEventSH.showDetail(e),N.instance.showLoading(!1)):this.popupEventSH.showDetail(e)},r.actPopupEventJackpot=function(){var e=this.getCurrentGameID();null==this.popupEventJackpot?(this.popupEventJackpot=B(this.popupEventJackpotPrefab).getComponent("TaiXiuLive.PopupHistoryJackpot"),this.popupEventJackpot.node.parent=this.popupContainer,this.popupEventJackpot.showDetail(e),N.instance.showLoading(!1)):this.popupEventJackpot.showDetail(e)},r.actPopupHonor=function(){null==this.popupHonor?(this.popupHonor=B(this.popupEventHonorPrefab).getComponent("TaiXiuLive.PopupHonors"),this.popupHonor.node.parent=this.popupContainer,this.popupHonor.show(),N.instance.showLoading(!1)):this.popupHonor.show()},r.actPopupHistory=function(){null==this.popupHistory?(this.popupHistory=B(this.popupHistoryPrefab).getComponent("TaiXiuLive.PopupHistory"),this.popupHistory.node.parent=this.popupContainer,this.popupHistory.show()):this.popupHistory.show()},r.actPopupGuide=function(){null==this.popupGuide?(this.popupGuide=B(this.popupGuidePrefab).getComponent("Dialog"),this.popupGuide.node.parent=this.popupContainer,this.popupGuide.show(),N.instance.showLoading(!1)):this.popupGuide.show()},r.showToast=function(e){this.lblToast.string=e;var t=this.lblToast.node.parent,i=t.getComponent(D)||t.addComponent(D);C.stopAllByTarget(i),t.active=!0,i.opacity=0,w(i).to(.1,{opacity:255}).delay(2).to(.2,{opacity:0}).call((function(){t.active=!1})).start()},t}(I)).instance=null,Oe=t((Me=qt).prototype,"avatar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(Me.prototype,"labelBalance",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Me.prototype,"labelNickname",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Me.prototype,"chatBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Me.prototype,"settingBox",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Me.prototype,"statisticalBox",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Me.prototype,"popupContainer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Me.prototype,"popupEventTienTriPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Me.prototype,"popupEventSHPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Me.prototype,"popupEventJackpotPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Me.prototype,"popupGuidePrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Me.prototype,"popupHistoryPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Me.prototype,"popupEventHonorPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Me.prototype,"popupDetailSessionPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Me.prototype,"leftContainer",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Me.prototype,"rightContainer",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Me.prototype,"centerLabels",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Me.prototype,"sprFrameTai",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(Me.prototype,"sprFrameXiu",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Me.prototype,"lblSession",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(Me.prototype,"containerTimer",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=t(Me.prototype,"lblRemainTime",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=t(Me.prototype,"lblRemainWaiting",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=t(Me.prototype,"lblSumDices",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=t(Me.prototype,"lblTotalBetTaiCurrent",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=t(Me.prototype,"lblTotalBetXiuCurrent",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=t(Me.prototype,"lblBetTai",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=t(Me.prototype,"lblBetXiu",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=t(Me.prototype,"lblUserTai",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=t(Me.prototype,"lblUserXiu",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=t(Me.prototype,"dicesContainer",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=t(Me.prototype,"listSprDice",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wt=t(Me.prototype,"gateTaiWin",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=t(Me.prototype,"nodeTaiWin",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=t(Me.prototype,"gateXiuWin",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=t(Me.prototype,"nodeXiuWin",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=t(Me.prototype,"bowl",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=t(Me.prototype,"buttonNan",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=t(Me.prototype,"lblToast",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=t(Me.prototype,"historyList",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=t(Me.prototype,"historyItem",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=t(Me.prototype,"nodeWheelSpin",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=t(Me.prototype,"nodeJackPot",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=t(Me.prototype,"lblJackPot",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=t(Me.prototype,"wheelNode",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=t(Me.prototype,"liveNode",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=t(Me.prototype,"webView",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=t(Me.prototype,"liveNodeMini",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=t(Me.prototype,"webViewMini",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=t(Me.prototype,"editBoxBetTai",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=t(Me.prototype,"editBoxBetXiu",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=t(Me.prototype,"confirmBetButton",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=t(Me.prototype,"cancelBetButton",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=t(Me.prototype,"chipToggleContainer",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=t(Me.prototype,"labelJackpotBalance",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=t(Me.prototype,"winTextTaiNode",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=t(Me.prototype,"winTextXiuNode",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=t(Me.prototype,"layoutBetChip",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=t(Me.prototype,"layoutBetNumber",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=Me))||Fe)||Fe));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLiveMD5.Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Utils.ts","./App.ts","./Http.ts","./MiniGameTXMD5SignalRClient.ts","./BroadcastListener.ts","./ButtonMiniGame.ts"],(function(t){var e,i,n,a,o,r,l,s,u,c,p,h,b,g,f,m,d,B,v,T,y,w,D,C,L,x,N,S,I,z,M,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,l=t._decorator,s=t.Sprite,u=t.Label,c=t.Node,p=t.SpriteFrame,h=t.EditBox,b=t.ToggleContainer,g=t.Button,f=t.Prefab,m=t.WebView,d=t.v2,B=t.Vec2,v=t.instantiate,T=t.Animation,y=t.v3,w=t.tween,D=t.UIOpacity,C=t.Tween,L=t.Component},function(t){x=t.default},function(t){N=t.Utils},function(t){S=t.default},function(t){I=t.default},function(t){z=t.default},function(t){M=t.BroadcastReceiver},function(t){R=t.default}],execute:function(){var W,X,P,A,G,_,E,H,U,O,k,F,V,J,j,K,Q,Y,q,Z,$,tt,et,it,nt,at,ot,rt,lt,st,ut,ct,pt,ht,bt,gt,ft,mt,dt,Bt,vt,Tt,yt,wt,Dt,Ct,Lt,xt,Nt,St,It,zt,Mt,Rt,Wt,Xt,Pt,At,Gt,_t,Et,Ht,Ut,Ot,kt,Ft,Vt,Jt,jt,Kt,Qt,Yt,qt,Zt,$t,te,ee,ie,ne,ae,oe,re,le,se,ue,ce,pe,he,be,ge,fe,me,de,Be,ve,Te,ye,we,De,Ce,Le,xe,Ne,Se,Ie,ze,Me,Re,We,Xe,Pe,Ae,Ge,_e;r._RF.push({},"fbcd8EnQ5hEcokWhRXzxmtp","TaiXiuLiveMD5.Controller",void 0);var Ee=l.ccclass,He=l.property,Ue=l.menu;t("default",(W=Ue("TaiXiuLiveMD5/Controller"),X=He(s),P=He(u),A=He(u),G=He(c),_=He(c),E=He(c),H=He(c),U=He(c),O=He(c),k=He(p),F=He(p),V=He(c),J=He(u),j=He(u),K=He(u),Q=He(u),Y=He(u),q=He(u),Z=He(u),$=He(u),tt=He(u),et=He(u),it=He(c),nt=He(c),at=He(h),ot=He(h),rt=He(c),lt=He(c),st=He(b),ut=He(c),ct=He(c),pt=He(u),ht=He(c),bt=He([p]),gt=He(c),ft=He(c),mt=He(c),dt=He(c),Bt=He(c),vt=He(g),Tt=He(u),yt=He(c),wt=He(c),Dt=He(c),Ct=He(c),Lt=He(c),xt=He(c),Nt=He(f),St=He(f),It=He(f),zt=He(f),Mt=He(c),Rt=He(m),Wt=He(c),Xt=He(m),Ee(Pt=W(((_e=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).GAME_ID=123,n(e,"avatar",Gt,a(e)),n(e,"labelBalance",_t,a(e)),n(e,"labelNickname",Et,a(e)),n(e,"leftContainer",Ht,a(e)),n(e,"rightContainer",Ut,a(e)),n(e,"centerLabels",Ot,a(e)),n(e,"JackpotNode",kt,a(e)),n(e,"MD5ContainerNode",Ft,a(e)),n(e,"EventButtonLiveJP",Vt,a(e)),n(e,"sprFrameTai",Jt,a(e)),n(e,"sprFrameXiu",jt,a(e)),n(e,"containerTimer",Kt,a(e)),n(e,"lblSession",Qt,a(e)),n(e,"lblRemainTime",Yt,a(e)),n(e,"lblRemainWaiting",qt,a(e)),n(e,"lblSumDices",Zt,a(e)),n(e,"lblTotalBetTaiCurrent",$t,a(e)),n(e,"lblTotalBetXiuCurrent",te,a(e)),n(e,"lblBetTai",ee,a(e)),n(e,"lblBetXiu",ie,a(e)),n(e,"lblUserTai",ne,a(e)),n(e,"lblUserXiu",ae,a(e)),n(e,"winTextTaiNode",oe,a(e)),n(e,"winTextXiuNode",re,a(e)),n(e,"editBoxBetTai",le,a(e)),n(e,"editBoxBetXiu",se,a(e)),n(e,"confirmBetButton",ue,a(e)),n(e,"cancelBetButton",ce,a(e)),n(e,"chipToggleContainer",pe,a(e)),n(e,"layoutBetChip",he,a(e)),n(e,"layoutBetNumber",be,a(e)),n(e,"labelTextMD5",ge,a(e)),n(e,"dicesContainer",fe,a(e)),n(e,"listSprDice",me,a(e)),n(e,"gateTaiWin",de,a(e)),n(e,"nodeTaiWin",Be,a(e)),n(e,"gateXiuWin",ve,a(e)),n(e,"nodeXiuWin",Te,a(e)),n(e,"bowl",ye,a(e)),n(e,"buttonNan",we,a(e)),n(e,"lblToast",De,a(e)),n(e,"historyList",Ce,a(e)),n(e,"historyItem",Le,a(e)),n(e,"chatBox",xe,a(e)),n(e,"settingBox",Ne,a(e)),n(e,"statisticalBox",Se,a(e)),n(e,"popupContainer",Ie,a(e)),n(e,"popupDetailSessionPrefab",ze,a(e)),n(e,"popupHistoryPrefab",Me,a(e)),n(e,"popupHonorsPrefab",Re,a(e)),n(e,"popupGuidePrefab",We,a(e)),n(e,"liveNode",Xe,a(e)),n(e,"webView",Pe,a(e)),n(e,"liveNodeMini",Ae,a(e)),n(e,"webViewMini",Ge,a(e)),e.streamURL="",e.currentStreamID=-1,e.popupDetailSession=null,e.popupHistory=null,e.popupHonors=null,e.popupGuide=null,e.countdownRemainTime=null,e.countdownWaitingTime=null,e.isBetting=!1,e.betTypeLocation=0,e.resetLabels=[],e.lastLocationIDWin=0,e.bowlStartPos=d(0,25),e.isOpenBowl=!1,e.lastScore=0,e.isNan=!1,e.plainTextMD5="",e.detailSessions=[],e.isBowlMovable=!1,e.isBetTypeGold=!0,e.lastBetAmount=0,e.STREAM_TEMPLATE="https://demo.nanocosmos.de/nanoplayer/embed/1.3.3/nanoplayer.html?group.id=STREAM_ID&group.security.jwtoken=JWT_TOKEN",e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.resetLabels=[this.lblTotalBetTaiCurrent,this.lblTotalBetXiuCurrent],this.lblToast.node.parent.active=!1,this.bowl.active=!0,this.labelTextMD5.string="",this.dicesContainer.getChildByName("result").active=!1,this.leftContainer.active=!1,this.rightContainer.active=!1,this.centerLabels.active=!1,this.JackpotNode.active=!1,this.EventButtonLiveJP.active=!1,this.MD5ContainerNode.active=!0},r.onEnable=function(){e.instance=this},r.start=function(){var t=this;this.bowl.on(c.EventType.TOUCH_MOVE,(function(e){if(!1!==t.isBowlMovable){var i=t.bowl.getPosition();i.x+=e.getDeltaX(),i.y+=e.getDeltaY(),t.bowl.position=i;var n=N.v2Distance(new B(i.x,i.y),t.bowlStartPos);Math.abs(n)>200&&(t.showResult(),t.isOpenBowl=!0,t.scheduleOnce((function(){t.bowl.active=!1}),2))}}),this),this.getStreamURL(),this.settingBox.active=!1,this.statisticalBox.active=!1,this.chatBox.active=!1,this.labelNickname.string=x.Login.Nickname,this.labelBalance.string=N.formatNumber(x.Login.GoldBalance),this.avatar.spriteFrame=S.instance.getAvatarSpriteFrame(x.Login.Avatar),z.getInstance().send("GetCurrentRoomsMD5",[{GameID:this.GAME_ID,CurrencyID:x.Login.CurrencyID,BetType:this.isBetTypeGold?1:2}],(function(t){})),this.initHubs()},r.getStreamURL=function(){var t=this;I.get("https://gameapi-alpha.bavenoth.com/api/v1/global/livestreaminfo",{gameId:123},(function(e,i){if(!(i.c<0||200!==e)){var n=i.d.find((function(e){return e.gameID===t.GAME_ID}));n&&n.streamID&&n.tokenPlayBack?t.currentStreamID!==n.streamID&&(t.currentStreamID=n.streamID,t.streamURL=t.STREAM_TEMPLATE.replace("STREAM_ID",n.streamID).replace("JWT_TOKEN",n.tokenPlayBack)):t.streamURL=""}}))},r.update=function(t){if(""===this.streamURL)return this.liveNode.active=!1,void(this.liveNodeMini.active=!1);this.webView.url!==this.streamURL&&(this.webView.url=this.streamURL,this.webViewMini.url=this.streamURL);for(var e,i=!0,n=!1,a=o(this.popupContainer.children);!(e=a()).done;){if(e.value.active){i=!1;break}}if(i)for(var r,l=o(S.instance.miniGameNode.children);!(r=l()).done;){if(r.value.active){i=!1,n=!0;break}}for(var s,u=o(S.instance.tipzoJackpotEventX2X6Node.children);!(s=u()).done;){if(s.value.active){i=!1;break}}if(R.instance.panel.active&&(i=!1),this.liveNode.active=i,n){if(0==S.instance.tipzoMiniLiveNode.children.length){var c=v(this.liveNodeMini);c.active=!0,S.instance.tipzoMiniLiveNode.addChild(c)}}else S.instance.tipzoMiniLiveNode.removeAllChildren()},r.leaveRoom=function(){e.instance=null,this.node.destroy()},r.onDestroy=function(){z.getInstance().send("HideDiceMD5",[],(function(t){})),z.getInstance().dontReceive(),S.instance.tipzoMiniLiveNode.removeAllChildren(),N.setStorageValue("last_open_game_id","")},r.handleDicesAnimationBetting=function(){var t=this;this.lblRemainTime.node.active=!1,this.lblRemainWaiting.node.parent.active=!1,this.bowl.active=!1;var e=this.dicesContainer.getChildByName("anim");e.active=!0,this.dicesContainer.getChildByName("result").active=!1;var i=e.getChildByName("animDice1").getComponent(T),n=e.getChildByName("animDice2").getComponent(T),a=e.getChildByName("animDice3").getComponent(T);i.play(),n.play(),a.play(),this.scheduleOnce((function(){i.stop(),n.stop(),a.stop(),e.active=!1,t.bowl.active=!0,t.bowl.setPosition(y(t.bowlStartPos.x,t.bowlStartPos.y,0)),t.isBowlMovable=!1,t.lblRemainTime.node.active=!0}),3)},r.handleOpenBowl=function(){var t=this;this.isOpenBowl=!0,w(this.bowl).to(.5,{position:y(250,150,0)}).call((function(){t.showResult(),t.scheduleOnce((function(){t.bowl.active=!1}),2)})).start()},r.initHubs=function(){var t=this;z.getInstance().receive("currentSessionMD5",(function(e){if(t.lblSession.string="#"+e.GameSessionID,t.unschedule(t.countdownRemainTime),t.unschedule(t.countdownWaitingTime),t.confirmBetButton.active=!1,t.cancelBetButton.active=!1,1===e.GameStatus)t.getStreamURL(),t.handleDicesAnimationBetting(),t.labelTextMD5.string=e.MD5,t.handleBettingPhase(e.RemainBetting);else{var i=e.RemainWaiting;t.handleWaitingPhase(i),i>15&&t.scheduleOnce((function(){z.getInstance().send("GetAccountResultMD5",[{GameID:t.GAME_ID,CurrencyID:x.Login.CurrencyID,GameSessionID:e.GameSessionID}],(function(){}))}),i-15)}})),z.getInstance().receive("currentResultMD5",(function(e){t.isBowlMovable=!0,t.plainTextMD5=e.PlainText,t.editBoxBetTai.enabled=!1,t.editBoxBetXiu.enabled=!1,t.buttonNan.enabled=!1,t.lblRemainWaiting.node.parent.active=!1;var i=t.dicesContainer.getChildByName("result");i.active=!0;var n=i.getChildByName("dice_1"),a=i.getChildByName("dice_2"),o=i.getChildByName("dice_3");n.getComponent(s).spriteFrame=t.listSprDice[e.Dice1-1],a.getComponent(s).spriteFrame=t.listSprDice[e.Dice2-1],o.getComponent(s).spriteFrame=t.listSprDice[e.Dice3-1],t.lastLocationIDWin=e.LocationIDWin,t.lastScore=e.Dice1+e.Dice2+e.Dice3,t.isNan?t.scheduleOnce((function(){t.isOpenBowl||t.handleOpenBowl()}),15):t.handleOpenBowl()})),z.getInstance().receive("currentRoomsInfoMD5",(function(e){for(var i,n=o(e);!(i=n()).done;){var a=i.value;if(null!=a){var r=1===a.BetType,l=2===a.BetType;if(!(t.isBetTypeGold&&l||!t.isBetTypeGold&&r)){var s=a.BetInfo;t.lblTotalBetXiuCurrent.string=N.formatNumber(s[11].TotalBetValue1),t.lblTotalBetTaiCurrent.string=N.formatNumber(s[11].TotalBetValue2),t.lblUserXiu.string="("+N.formatNumber(s[11].TotalAccount1)+")",t.lblUserTai.string="("+N.formatNumber(s[11].TotalAccount2)+")",x.Login.PortalID>10&&(t.lblUserXiu.string="("+N.formatNumber(s[11].TotalAccount1+s[88].TotalAccount1)+")",t.lblUserTai.string="("+N.formatNumber(s[11].TotalAccount2+s[88].TotalAccount2)+")")}}}})),z.getInstance().receive("gameHistoryMD5",(function(e){if(t.historyList.removeAllChildren(),null!=e&&0!=e.length){t.detailSessions=[];for(var i=function(i){t.detailSessions.push(e[i]);var n=v(t.historyItem);n.getComponent(s).spriteFrame=1==e[i].LocationIDWin?t.sprFrameXiu:t.sprFrameTai,n.getChildByName("last").active=0===i,n.on(c.EventType.TOUCH_END,(function(){t.actPopupDetailSession(e[i].GameSessionID)})),0===i&&(C.stopAllByTarget(n),t.scheduleOnce((function(){var t=y(n.position.x,5,n.position.z),e=y(n.position.x,-5,n.position.z);w(n).repeatForever(w().to(.3,{position:t}).to(.3,{position:e})).start()}),0)),t.historyList.addChild(n)},n=e.length-1;n>=0;n--)i(n)}})),z.getInstance().receive("betOfAccountMD5",(function(e){e.forEach((function(e){(t.editBoxBetTai.string="",t.editBoxBetXiu.string="",1==e.BetType)&&((1==e.LocationID?t.lblBetXiu:t.lblBetTai).string=N.formatNumber(e.BetValue))}))})),z.getInstance().receive("resultOfAccountMD5",(function(e){var i=0;e.forEach((function(t){t.AccountID===x.Login.AccountID&&t.PortalID===x.Login.PortalID&&t.PrizeValue>0&&(i+=t.PrizeValue)}));var n=1===t.betTypeLocation?t.winTextXiuNode:t.winTextTaiNode;i<=0?n.active=!1:(n.active=!0,n.getComponentInChildren(u).string="+ "+N.formatNumber(i),n.position=y(n.x,-60),w(n).to(3,{position:y(n.x,60)}).call((function(){n.active=!1})).start(),t.updateBalanceTaiXiu())}))},r.handleBettingPhase=function(t){var e=this;60===t&&(this.showToast(S.instance.getTextLang("txt_taixiu_new_session")),this.isOpenBowl=!1,this.resetSessionLabels(),this.lblBetTai.string="0",this.lblBetXiu.string="0",this.lastScore=0,this.lblSumDices.string="",this.lblRemainTime.string="",this.confirmBetButton.active=!1,this.cancelBetButton.active=!1,this.clearChipToggle(),this.hideResult(),this.plainTextMD5="",this.actCancelBet()),t<3&&(this.isBetting=!1),this.isBetting=!0,this.editBoxBetTai.enabled=!0,this.editBoxBetXiu.enabled=!0,this.buttonNan.enabled=!0,this.lblRemainWaiting.node.parent.active=!1,this.lblRemainWaiting.node.active=!1;var i=t;this.unschedule(this.countdownRemainTime),this.schedule(this.countdownRemainTime=function(){try{if(i<0)return void e.unschedule(e.countdownRemainTime);i<=5&&(e.isBetting=!1),e.containerTimer.active=!0,e.lblRemainTime.string=i<10?"0"+i:""+i,i--}catch(t){e.unschedule(e.countdownRemainTime)}},1)},r.resetSessionLabels=function(){this.resetLabels.forEach((function(t){return t.string="0"})),this.lblUserTai.string="(0)",this.lblUserXiu.string="(0)"},r.handleWaitingPhase=function(t){var e=this;t>0&&(this.isBetting=!1),t<19&&z.getInstance().send("GetCurrentResultMD5",[{GameID:this.GAME_ID}],(function(){})),this.containerTimer.active=!1,this.lblRemainWaiting.node.parent.active=!1;var i=t;this.unschedule(this.countdownWaitingTime),this.schedule(this.countdownWaitingTime=function(){try{if(i<0)return void e.unschedule(e.countdownWaitingTime);if(!1===e.isOpenBowl&&i>15){var t=i-15;e.lblRemainWaiting.string=""+(t<10?"0"+t:t),e.lblRemainWaiting.node.active=!0,e.lblRemainWaiting.node.parent.active=!0,e.lblSumDices.node.active=!1}else e.lblSumDices.node.active=i>12,e.lblRemainWaiting.node.active=i<=12,e.lblRemainWaiting.string=""+(i<10?"0"+i:i);i--}catch(t){e.unschedule(e.countdownWaitingTime)}},1)},r.actBet=function(){var t=this;if(!this.isBetting)return this.showToast(S.instance.getTextLang("me-207")),void this.actCancelBet();if(0!=this.betTypeLocation){var e=1==this.betTypeLocation?this.editBoxBetXiu.string:this.editBoxBetTai.string;parseInt(e)<=0?this.showToast(S.instance.getTextLang("txt_taixiu_enter_bet_value")):z.getInstance().send("SetBetMd5",[{GameID:this.GAME_ID,CurrencyID:x.Login.CurrencyID,BetType:1,Location:this.betTypeLocation,Amount:parseInt(e)}],(function(i){if(i<0)return t.showToast(S.instance.getTextLang("me"+i)),void t.actCancelBet();t.showToast(S.instance.getTextLang("tx3_live").replace("{0}",1===t.betTypeLocation?S.instance.getTextLang("tx44"):S.instance.getTextLang("tx43"))),t.lastBetAmount=parseInt(e),t.editBoxBetTai.string="",t.editBoxBetXiu.string="",t.gateXiuWin.active=!1,t.gateTaiWin.active=!1,t.clearChipToggle(),t.updateBalanceTaiXiu()}))}},r.x2Bet=function(){var t=this.lastBetAmount,e=parseInt(this.editBoxBetXiu.string)||0,i=parseInt(this.editBoxBetTai.string)||0;!this.isBetting||0==t&&0==i&&0==e||(1==this.betTypeLocation?this.editBoxBetXiu.string=e>0?(2*e).toString():(2*t).toString():2==this.betTypeLocation&&(this.editBoxBetTai.string=i>0?(2*i).toString():(2*t).toString()),this.confirmBetButton.active=!0,this.cancelBetButton.active=!0)},r.updateBalanceTaiXiu=function(){M.send(M.USER_UPDATE_COIN),this.labelBalance.string=N.formatNumber(x.Login.GoldBalance)},r.updateCurrentBetType=function(t,e){this.isBetting&&(this.betTypeLocation=parseInt(e),this.gateXiuWin.active=1===this.betTypeLocation,this.gateTaiWin.active=2===this.betTypeLocation,this.confirmBetButton.active=!0,this.cancelBetButton.active=!0)},r.selectedChip=function(t,e){this.isBetting&&(0!=this.betTypeLocation?1==this.betTypeLocation?this.editBoxBetXiu.string=e.toString():2==this.betTypeLocation&&(this.editBoxBetTai.string=e.toString()):this.clearChipToggle())},r.clearChipToggle=function(){for(var t=0;t<this.chipToggleContainer.toggleItems.length;t++)this.chipToggleContainer.toggleItems[t].isChecked=!1},r.actConfirmBet=function(){this.actBet(),this.confirmBetButton.active=!1,this.cancelBetButton.active=!1},r.actCancelBet=function(){this.editBoxBetTai.string="",this.editBoxBetXiu.string=""},r.showResult=function(){var t;if(this.hideResult(),1===this.lastLocationIDWin)t=this.nodeXiuWin,this.gateXiuWin.active=!0,this.gateTaiWin.active=!1,this.nodeTaiWin.active=!1;else{if(2!==this.lastLocationIDWin)return;t=this.nodeTaiWin,this.gateTaiWin.active=!0,this.gateXiuWin.active=!1,this.nodeXiuWin.active=!1}t.active=!0;var e=t.getComponent(D);w(e).repeatForever(w().to(.2,{opacity:100}).to(.2,{opacity:255})).start(),this.lblRemainWaiting.node.parent.active=!0,this.lblRemainWaiting.node.active=!1,this.lblSumDices.string=this.lastScore.toString(),this.labelTextMD5.string=this.plainTextMD5},r.hideResult=function(){C.stopAllByTarget(this.nodeTaiWin),C.stopAllByTarget(this.nodeXiuWin),this.nodeTaiWin.active=!1,this.nodeXiuWin.active=!1,this.gateTaiWin.active=!1,this.gateXiuWin.active=!1,this.lblRemainWaiting.node.parent.active=!1},r.toggleLayoutBet=function(t){var e=t.target,i=e.getChildByName("text"),n=e.getChildByName("betFast");this.layoutBetChip.active=!this.layoutBetChip.active,this.layoutBetNumber.active=!this.layoutBetNumber.active,n.active=!this.layoutBetChip.active,i.active=!this.layoutBetNumber.active,this.isBetting&&(this.confirmBetButton.active=!0,this.cancelBetButton.active=!0)},r.updateBetAmountCustom=function(t,e){1==this.betTypeLocation?this.editBoxBetXiu.string+=e:2==this.betTypeLocation&&(this.editBoxBetTai.string+=e)},r.deleteBetAmount=function(){1==this.betTypeLocation?this.editBoxBetXiu.string=this.editBoxBetXiu.string.slice(0,-1):2==this.betTypeLocation&&(this.editBoxBetTai.string=this.editBoxBetTai.string.slice(0,-1))},r.copyTextMD5=function(){N.copy(this.labelTextMD5.string),this.showToast("Copied")},r.toggleNan=function(t){var e=t.target,i=e.getChildByName("on"),n=e.getChildByName("off");i.active=!i.active,n.active=!n.active,this.isNan=!this.isNan},r.toggleChatBox=function(){this.chatBox.active=!this.chatBox.active},r.toggleSettingBox=function(){this.settingBox.active=!this.settingBox.active},r.toggleStatisticalBox=function(){this.statisticalBox.active=!this.statisticalBox.active},r.showToast=function(t){this.lblToast.string=t;var e=this.lblToast.node.parent,i=e.getComponent(D)||e.addComponent(D);C.stopAllByTarget(i),e.active=!0,i.opacity=0,w(i).to(.1,{opacity:255}).delay(2).to(.2,{opacity:0}).call((function(){e.active=!1})).start()},r.actPopupDetailSession=function(t){null==this.popupDetailSession?(this.popupDetailSession=v(this.popupDetailSessionPrefab).getComponent("TaiXiuLiveMD5.PopupDetailSession"),this.popupDetailSession.node.parent=this.popupContainer,this.popupDetailSession.showDetail(t,this.detailSessions),S.instance.showLoading(!1)):this.popupDetailSession.showDetail(t,this.detailSessions)},r.actPopupHistory=function(){null==this.popupHistory?(this.popupHistory=v(this.popupHistoryPrefab).getComponent("TaiXiuLiveMD5.PopupHistory"),this.popupHistory.node.parent=this.popupContainer,this.popupHistory.show(),S.instance.showLoading(!1)):this.popupHistory.show()},r.actPopupHonors=function(){null==this.popupHonors?(this.popupHonors=v(this.popupHonorsPrefab).getComponent("TaiXiuLiveMD5.PopupHonors"),this.popupHonors.node.parent=this.popupContainer,this.popupHonors.showDetail(this.isBetTypeGold),S.instance.showLoading(!1)):this.popupHonors.showDetail(this.isBetTypeGold)},r.actPopupGuide=function(){null==this.popupGuide?(this.popupGuide=v(this.popupGuidePrefab).getComponent("Dialog"),this.popupGuide.node.parent=this.popupContainer,this.popupGuide.show(),S.instance.showLoading(!1)):this.popupGuide.show()},e}(L)).instance=null,Gt=e((At=_e).prototype,"avatar",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(At.prototype,"labelBalance",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(At.prototype,"labelNickname",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(At.prototype,"leftContainer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(At.prototype,"rightContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(At.prototype,"centerLabels",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(At.prototype,"JackpotNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(At.prototype,"MD5ContainerNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(At.prototype,"EventButtonLiveJP",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(At.prototype,"sprFrameTai",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(At.prototype,"sprFrameXiu",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(At.prototype,"containerTimer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(At.prototype,"lblSession",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(At.prototype,"lblRemainTime",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(At.prototype,"lblRemainWaiting",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=e(At.prototype,"lblSumDices",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=e(At.prototype,"lblTotalBetTaiCurrent",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=e(At.prototype,"lblTotalBetXiuCurrent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=e(At.prototype,"lblBetTai",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=e(At.prototype,"lblBetXiu",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=e(At.prototype,"lblUserTai",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=e(At.prototype,"lblUserXiu",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=e(At.prototype,"winTextTaiNode",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=e(At.prototype,"winTextXiuNode",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=e(At.prototype,"editBoxBetTai",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=e(At.prototype,"editBoxBetXiu",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=e(At.prototype,"confirmBetButton",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=e(At.prototype,"cancelBetButton",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=e(At.prototype,"chipToggleContainer",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=e(At.prototype,"layoutBetChip",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=e(At.prototype,"layoutBetNumber",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=e(At.prototype,"labelTextMD5",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=e(At.prototype,"dicesContainer",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=e(At.prototype,"listSprDice",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=e(At.prototype,"gateTaiWin",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=e(At.prototype,"nodeTaiWin",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=e(At.prototype,"gateXiuWin",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=e(At.prototype,"nodeXiuWin",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=e(At.prototype,"bowl",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=e(At.prototype,"buttonNan",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=e(At.prototype,"lblToast",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=e(At.prototype,"historyList",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=e(At.prototype,"historyItem",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=e(At.prototype,"chatBox",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=e(At.prototype,"settingBox",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=e(At.prototype,"statisticalBox",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=e(At.prototype,"popupContainer",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=e(At.prototype,"popupDetailSessionPrefab",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=e(At.prototype,"popupHistoryPrefab",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=e(At.prototype,"popupHonorsPrefab",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=e(At.prototype,"popupGuidePrefab",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=e(At.prototype,"liveNode",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=e(At.prototype,"webView",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=e(At.prototype,"liveNodeMini",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=e(At.prototype,"webViewMini",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=At))||Pt)||Pt));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLiveMD5.PopupDetailSession.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./App.ts","./Config.ts","./Http.ts","./Utils.ts"],(function(e){var i,t,n,l,a,r,o,s,u,c,p,b,f,m,d,h,D,g,T,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,o=e.Label,s=e.Node,u=e.SpriteFrame,c=e.Sprite,p=e.Color,b=e.Tween,f=e.tween,m=e.v3,d=e.instantiate},function(e){h=e.default},function(e){D=e.default},function(e){g=e.default},function(e){T=e.default},function(e){y=e.Utils}],execute:function(){var v,w,C,S,I,B,X,z,N,M,x,L,F,R,A,P,k,E,H,V,_,G,O,q,U,j,K,W,Z,J,Q,Y,$,ee,ie,te,ne,le,ae,re,oe;a._RF.push({},"237ebErLcxBZbioFAK8k8mz","TaiXiuLiveMD5.PopupDetailSession",void 0);var se=r.ccclass,ue=r.property,ce=r.menu;e("default",(v=ce("TaiXiuLiveMD5/PopupSession"),w=ue(o),C=ue(o),S=ue(o),I=ue(o),B=ue(o),X=ue(o),z=ue(s),N=ue(s),M=ue(s),x=ue(s),L=ue([u]),F=ue(c),R=ue(c),A=ue(c),P=ue(o),k=ue(o),E=ue(o),H=ue(s),V=ue(s),se(_=v((O=i((G=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"lblSession",O,l(i)),n(i,"lblSessionDate",q,l(i)),n(i,"lblTotalBetTai",U,l(i)),n(i,"lblTotalRefundTai",j,l(i)),n(i,"lblTotalBetXiu",K,l(i)),n(i,"lblTotalRefundXiu",W,l(i)),n(i,"itemsTai",Z,l(i)),n(i,"itemsXiu",J,l(i)),n(i,"itemTai",Q,l(i)),n(i,"itemXiu",Y,l(i)),n(i,"sfDices",$,l(i)),n(i,"sprDice1",ee,l(i)),n(i,"sprDice2",ie,l(i)),n(i,"sprDice3",te,l(i)),n(i,"labelSumDices",ne,l(i)),n(i,"MD5",le,l(i)),n(i,"plainText",ae,l(i)),n(i,"nodeTai",re,l(i)),n(i,"nodeXiu",oe,l(i)),i.betType=1,i.sessionID=0,i.detailSessions=null,i}t(i,e);var a=i.prototype;return a.showDetail=function(e,i){this.sessionID=e,this.detailSessions=i,this.show()},a.onChangeBetType=function(e){var i=e.node;e.isChecked?i.getChildByName("text").getComponent(o).color=(new p).fromHEX("#FFF000"):i.getChildByName("text").getComponent(o).color=(new p).fromHEX("#CDBEE4"),!1!==e.isChecked&&(this.betType=1===this.betType?2:1,this.loadData())},a.show=function(){e.prototype.show.call(this),this.loadData()},a.loadData=function(){var e=this;this.lblSession.string=D.instance.getTextLang("txt_session")+": #"+this.sessionID,this.itemsTai.removeAllChildren(),this.itemsXiu.removeAllChildren(),this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.lblTotalBetTai.string="",this.lblTotalRefundTai.string="",this.lblTotalBetXiu.string="",this.lblTotalRefundXiu.string="",D.instance.showLoading(!0);var i=0,t=0,n=0,l=0,a=this.detailSessions.find((function(i){return i.GameSessionID==e.sessionID}));this.sprDice1.spriteFrame=this.sfDices[a.Dice1-1],this.sprDice2.spriteFrame=this.sfDices[a.Dice2-1],this.sprDice3.spriteFrame=this.sfDices[a.Dice3-1],this.labelSumDices.string=a.Dice1+a.Dice2+a.Dice3+"",this.sprDice1.node.active=!0,this.sprDice2.node.active=!0,this.sprDice3.node.active=!0,this.MD5.string="",this.plainText.string="",this.lblSessionDate.node.active=!1,b.stopAllByTarget(this.nodeTai),b.stopAllByTarget(this.nodeXiu);var r=2===a.LocationIDWin?this.nodeTai:this.nodeXiu;f(r).repeatForever(f().to(.25,{scale:m(1.25,1.25,1.25)},{easing:"quadOut"}).to(.2,{scale:m(.9,.9,.9)},{easing:"quadIn"}).to(.15,{scale:m(1.1,1.1,1.1)},{easing:"sineOut"}).to(.1,{scale:m(1,1,1)},{easing:"sineInOut"})).start();var s=g.App.DOMAIN_CONFIG.LuckyDiceMd5GetBetDetails+"?currencyID="+g.Login.CurrencyID+"&gameID=123&betType="+this.betType+"&sessionID="+this.sessionID;T.post(s,{},(function(a,r){var s;r.c<0?D.instance.alertDialog.showMsg(D.instance.getTextLang("me"+r.code)):(e.MD5.string=r.d.m,e.plainText.string=r.d.p,null==r||null==(s=r.d)||s.l.forEach((function(a,r){0==r&&(e.lblSessionDate.node.active=!0,e.lblSessionDate.string=y.formatDatetime(a.createdTime,"dd/MM/yyyy"));var s=d(2==a.locationID?e.itemTai:e.itemXiu),u=s.getChildByName("bg1"),c=s.getChildByName("bg2");u&&c&&(u.active=r%2==0,c.active=r%2!=0);var p=s.getChildByName("content");p.getChildByName("Time").getComponent(o).string=y.formatDatetime(a.createdTime,"dd/MM/yyyy HH:mm:ss"),p.getChildByName("Account").getComponent(o).string=a.nickname,p.getChildByName("Refund").getComponent(o).string=y.formatNumber(a.refundValue),p.getChildByName("Bet").getComponent(o).string=y.formatNumber(a.betValue),2==a.locationID?(i+=a.betValue,t+=a.refundValue,e.itemsTai.addChild(s)):(n+=a.betValue,l+=a.refundValue,e.itemsXiu.addChild(s))})),e.lblTotalBetTai.string=y.formatNumber(i),e.lblTotalRefundTai.string=y.formatNumber(t),e.lblTotalBetXiu.string=y.formatNumber(n),e.lblTotalRefundXiu.string=y.formatNumber(l))})),D.instance.showLoading(!1)},a.copyTextMD5=function(){y.copy(this.MD5.string)},a.copyTextPlainText=function(){y.copy(this.plainText.string)},a.actNextSession=function(){var e=this;this.sessionID++,this.detailSessions.find((function(i){return i.GameSessionID==e.sessionID}))?this.loadData():this.sessionID--},a.actPrevSession=function(){var e=this;this.sessionID--,this.detailSessions.find((function(i){return i.GameSessionID==e.sessionID}))?this.loadData():this.sessionID++},i}(h)).prototype,"lblSession",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(G.prototype,"lblSessionDate",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(G.prototype,"lblTotalBetTai",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(G.prototype,"lblTotalRefundTai",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(G.prototype,"lblTotalBetXiu",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(G.prototype,"lblTotalRefundXiu",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(G.prototype,"itemsTai",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(G.prototype,"itemsXiu",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(G.prototype,"itemTai",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(G.prototype,"itemXiu",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(G.prototype,"sfDices",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=i(G.prototype,"sprDice1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(G.prototype,"sprDice2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(G.prototype,"sprDice3",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(G.prototype,"labelSumDices",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(G.prototype,"MD5",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(G.prototype,"plainText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(G.prototype,"nodeTai",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(G.prototype,"nodeXiu",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=G))||_)||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLiveMD5.PopupHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./App.ts","./Config.ts","./Http.ts","./Utils.ts"],(function(t){var e,n,o,i,a,l,r,s,c,p,u,g,d,h,m,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,s=t.ScrollView,c=t.Component,p=t.Label,u=t.Color,g=t.instantiate},function(t){d=t.default},function(t){h=t.default},function(t){m=t.default},function(t){f=t.default},function(t){y=t.Utils}],execute:function(){var C,v,D,b,B,N,L;a._RF.push({},"78a79R8QORB8o4gLTB5i2IG","TaiXiuLiveMD5.PopupHistory",void 0);var T=l.ccclass,H=l.property,I=l.menu;t("PopupHistoryMD5",(C=I("TaiXiuLiveMD5/PopupHistory"),v=H(r),D=H(s),T(b=C((N=e((B=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,o(e,"prefab",N,i(e)),o(e,"scroll",L,i(e)),e.isGold=!0,e.gameID=123,e.page=1,e.per_page=10,e}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=new c.EventHandler;t.target=this.node,t.component="PopupHistoryMD5",t.handler="onScrollEvent",this.scroll.scrollEvents.push(t),this.scroll.content.removeAllChildren()},a.show=function(){t.prototype.show.call(this),this.page=1,this.loadData()},a.dismiss=function(){t.prototype.dismiss.call(this),this.scroll.content.removeAllChildren()},a.onChangeType=function(t,e){var n=t.node;t.isChecked?n.getChildByName("text").getComponent(p).color=(new u).fromHEX("#FFF000"):n.getChildByName("text").getComponent(p).color=(new u).fromHEX("#CDBEE4"),!1!==t.isChecked&&(this.scroll.content.removeAllChildren(),this.isGold=!this.isGold,this.page=1,this.loadData())},a.loadData=function(){var t=this;h.instance.showLoading(!0);var e={currencyID:m.Login.CurrencyID,gameID:this.gameID,betType:this.isGold?1:2,topCount:this.per_page*this.page};f.get(m.App.DOMAIN_CONFIG.LuckyDiceMd5GetAccountHistory,e,(function(e,n){if(200===e)for(var o=n.d,i=t.page-1;i<o.length;i++){var a=g(t.prefab),l=a.getChildByName("bg1"),r=a.getChildByName("bg2");l&&r&&(l.active=i%2==0,r.active=i%2!=0),t.setItemData(a.getChildByName("content"),o[i]),a.active=!0,t.scroll.content.addChild(a)}h.instance.showLoading(!1)}))},a.setItemData=function(t,e){t.getChildByName("lblSession").getComponent(p).string="#"+e.gameSessionID,t.getChildByName("lblTime").getComponent(p).string=y.formatDatetime(e.startTime,"dd/MM/yyyy HH:mm:ss"),t.getChildByName("lblBetDoor").getComponent(p).string=1==e.locationName?h.instance.getTextLang("tx2"):h.instance.getTextLang("tx1"),t.getChildByName("lblResult").getComponent(p).string=e.result,t.getChildByName("lblBet").getComponent(p).string=y.formatNumber(e.totalBetValue),t.getChildByName("lblRefund").getComponent(p).string=y.formatNumber(e.refundValue),t.getChildByName("lblWin").getComponent(p).string=y.formatNumber(e.prizeValue)},a.onScrollEvent=function(t,e,n){e==s.EventType.SCROLL_TO_BOTTOM&&(this.page++,this.loadData())},e}(d)).prototype,"prefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(B.prototype,"scroll",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=B))||b)||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/TaiXiuLiveMD5.PopupHonors.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dialog.ts","./App.ts","./Config.ts","./Http.ts","./Utils.ts"],(function(e){var t,i,n,o,r,a,l,u,p,s,c,m,f,d,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,u=e.SpriteFrame,p=e.instantiate,s=e.Label,c=e.Sprite},function(e){m=e.default},function(e){f=e.default},function(e){d=e.default},function(e){g=e.default},function(e){y=e.Utils}],execute:function(){var h,b,C,D,_,v,w,B,F,N,z,L,T,G,I,H,M;r._RF.push({},"5676cCKlk1N55mx88h8uW56","TaiXiuLiveMD5.PopupHonors",void 0);var P=a.ccclass,S=a.property,k=a.menu;e("PopupHonors",(h=k("TaiXiuLiveMD5/PopupHonors"),b=S(l),C=S(l),D=S(l),_=S(l),v=S(l),w=S(u),B=S(u),P(F=h((z=t((N=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"item_top1",z,o(t)),n(t,"item_top2",L,o(t)),n(t,"item_top3",T,o(t)),n(t,"item",G,o(t)),n(t,"items",I,o(t)),n(t,"sprFrameGold",H,o(t)),n(t,"sprFrameCoin",M,o(t)),t.isBetTypeGold=!0,t.gameID=123,t}i(t,e);var r=t.prototype;return r.showDetail=function(t){this.isBetTypeGold=t,e.prototype.show.call(this)},r.dismiss=function(){e.prototype.dismiss.call(this)},r._onShowed=function(){e.prototype._onShowed.call(this),this.loadData()},r.loadData=function(){var e=this;f.instance.showLoading(!0),this.items.removeAllChildren();var t={currencyID:d.Login.CurrencyID,gameID:this.gameID,betType:this.isBetTypeGold?1:2,topCount:50};g.get(d.App.DOMAIN_CONFIG.LuckyDiceMd5GetTopDailyWinners,t,(function(t,i){if(200===t)for(var n=i.d,o=0;o<n.length;o++){var r=p(e.item);0==o?r=p(e.item_top1):1==o?r=p(e.item_top2):2==o?r=p(e.item_top3):r.getChildByName("rank").getComponent(s).string=(o+1).toString(),r.getChildByName("label2").getComponent(s).string=n[o].nickname,r.getChildByName("label3").getChildByName("text").getComponent(s).string=y.formatNumber(n[o].prizeValue),r.getChildByName("label3").getChildByName("coin").getComponent(c).spriteFrame=e.isBetTypeGold?e.sprFrameGold:e.sprFrameCoin,e.items.addChild(r)}f.instance.showLoading(!1)}))},t}(m)).prototype,"item_top1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(N.prototype,"item_top2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(N.prototype,"item_top3",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(N.prototype,"item",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"items",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"sprFrameGold",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"sprFrameCoin",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=N))||F)||F));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/TaiXiuLive', 'chunks:///_virtual/TaiXiuLive'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});